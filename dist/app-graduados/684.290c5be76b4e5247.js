"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[684],{1684:(A,u,o)=>{o.r(u),o.d(u,{RespuestasModule:()=>X});var p=o(6895),d=o(1933),t=o(8274);let c=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-crear"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"crear works!"),t.qZA())}}),n})(),m=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editar"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"editar works!"),t.qZA())}}),n})(),l=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-eliminar"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"eliminar works!"),t.qZA())}}),n})();var a=o(433),f=o(2340),U=o(7948),C=o(805),b=o(9219),y=o(2925),_=o(2709),x=o(5593),h=o(2453),v=o(3054),Z=o(3388);const T=["fileUpload"];function I(n,r){if(1&n&&(t.TgZ(0,"div",33)(1,"a",34),t._UZ(2,"button",35),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.hYB("href","",e.API_URI,"/media/",e.solicitud[0].anexo,"",t.LSH)}}function M(n,r){if(1&n&&(t.TgZ(0,"div",33)(1,"a",34),t._UZ(2,"button",35),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.hYB("href","",i.API_URL_MEDIA,"",e.anexo,"",t.LSH)}}function O(n,r){if(1&n&&(t.TgZ(0,"div",38)(1,"div",6)(2,"div",7)(3,"span",39),t._UZ(4,"i",40),t.qZA()()(),t.TgZ(5,"div",10)(6,"div",16)(7,"div")(8,"p")(9,"strong"),t._uU(10,"Fecha:"),t.qZA(),t._uU(11," 01-06-2023"),t.qZA()()(),t.TgZ(12,"div",16)(13,"strong"),t._uU(14,"Descripcion:"),t.qZA(),t.TgZ(15,"p"),t._uU(16),t.qZA()(),t.TgZ(17,"div",17),t.YNc(18,M,3,2,"div",18),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(16),t.hij(" ",e.descripcion," "),t.xp6(2),t.Q6J("ngIf",""!==e.anexo)}}function P(n,r){if(1&n&&(t.TgZ(0,"div")(1,"h1",36),t._uU(2,"Respuestas"),t.qZA(),t.YNc(3,O,19,2,"div",37),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.respuestas)}}const R=function(){return{width:"100%"}},q=function(){return{"font-weight":"bold"}},j=function(){return{width:"40%"}};function w(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-card",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"span",8),t._UZ(6,"i",9),t.qZA()()(),t.TgZ(7,"div",10)(8,"div",11),t._UZ(9,"img",12),t.qZA(),t.TgZ(10,"div",13)(11,"div",14)(12,"div",15)(13,"h3"),t._uU(14),t.qZA()()()(),t.TgZ(15,"div",16)(16,"div")(17,"p")(18,"strong"),t._uU(19,"Tipo de solicitud:"),t.qZA(),t._uU(20),t.qZA(),t.TgZ(21,"p")(22,"strong"),t._uU(23,"Usuario:"),t.qZA(),t._uU(24),t.qZA(),t.TgZ(25,"p")(26,"strong"),t._uU(27,"Fecha:"),t.qZA(),t._uU(28," 01-06-2023"),t.qZA()()(),t.TgZ(29,"div",16)(30,"strong"),t._uU(31,"Descripcion:"),t.qZA(),t.TgZ(32,"p"),t._uU(33),t.qZA()(),t.TgZ(34,"div",17),t.YNc(35,I,3,2,"div",18),t.qZA(),t.TgZ(36,"div",17)(37,"div",19),t._UZ(38,"button",20),t.qZA()()()(),t.YNc(39,P,4,1,"div",21),t.TgZ(40,"div")(41,"div",5)(42,"div",6)(43,"div",7)(44,"span",8),t._UZ(45,"i",22),t.qZA()()(),t.TgZ(46,"div",23)(47,"form",24)(48,"div",25)(49,"div",26)(50,"h2"),t._uU(51,"Adjuntar respuesta"),t.qZA()(),t.TgZ(52,"div",26),t._UZ(53,"textarea",27),t.qZA(),t.TgZ(54,"div",28)(55,"label",29),t._uU(56,"Puedes adjuntar un archivo: (Opcional)"),t.qZA(),t.TgZ(57,"p-fileUpload",30,31),t.NdJ("onSelect",function(s){t.CHM(e);const g=t.oxw();return t.KtG(g.adjuntarArchivo(s))}),t.qZA()(),t.TgZ(59,"div",26)(60,"button",32),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.submit())}),t.qZA()()()()()()()()()}if(2&n){const e=t.oxw(),i=t.MAs(4);t.xp6(14),t.Oqu(e.solicitud[0].titulo),t.xp6(6),t.hij(" ",e.solicitud[0].tipopqrs.tipo,""),t.xp6(4),t.hij(" ",e.solicitud[0].persona,""),t.xp6(9),t.Oqu(e.solicitud[0].description),t.xp6(2),t.Q6J("ngIf",""!==e.solicitud[0].anexo),t.xp6(3),t.Tol("EP"===e.solicitud[0].status.name?"p-button-warning m-2":"FN"===e.solicitud[0].status.name?"p-button-danger m-2 ":"p-button m-2"),t.Q6J("label",e.solicitud[0].status.valor),t.xp6(1),t.Q6J("ngIf",e.respuestas.length>0)("ngIfElse",i),t.xp6(8),t.Q6J("formGroup",e.form),t.xp6(6),t.Akn(t.DdM(21,R)),t.Q6J("maxlength",600),t.xp6(2),t.Akn(t.DdM(22,q)),t.xp6(2),t.Q6J("maxFileSize",5242880)("showUploadButton",!1)("showCancelButton",!1),t.xp6(3),t.Akn(t.DdM(23,j))}}function S(n,r){1&n&&t._UZ(0,"app-spinner")}function E(n,r){1&n&&(t.TgZ(0,"div",41)(1,"p"),t._uU(2,"Aun no hay respuestas para esta solicitud."),t.qZA()())}const B=[{path:"ver",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ver"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"ver works!"),t.qZA())}}),n})()},{path:"crear",component:c},{path:"editar",component:m},{path:"eliminar",component:l},{path:"verDetalles",component:(()=>{class n{constructor(e,i,s,g){this.pqrsService=e,this.route=i,this.fb=s,this.messageService=g,this.API_URI=f.N.API_URI,this.API_URL_MEDIA=f.N.API_URL_MEDIA,this.solicitud=[],this.respuestas=[],this.id="",this.addPermission="add_respuesta",this.form=this.fb.group({descripcion:["",[a.kI.required,a.kI.maxLength(600)]]}),this.files=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.traerRespuestas()}submit(){const e=new FormData;void 0!==this.files[0]&&e.append("anexo",this.files[0]),e.append("descripcion",this.form.value.descripcion),e.append("pqrs",this.id);try{this.pqrsService.post(`${this.API_URI}/pqrs/respuesta/create/`,e,this.token).subscribe(i=>(this.form.reset(),this.traerRespuestas(),this.messageService.add({severity:"success",summary:"Success",detail:"Creado correctamente"})))}catch(i){return console.log(i),this.messageService.add({severity:"error",summary:"Error",detail:"Hubo en error"})}}onUpload(e){this.files=[];const i=e.target.files[e.target.files.length-1];null!=i&&(this.files=[i])}traerRespuestas(){this.solicitud=[],this.respuestas=[],this.route.queryParams.subscribe(({id:e})=>{this.id=e;let i={pqrs:e};try{this.pqrsService.post(`${this.API_URI}/pqrs/respuesta/query/`,i,this.token).subscribe(s=>{console.log(s.data.respuestas),this.solicitud=s.data.pqrs,this.respuestas=s.data.respuestas})}catch(s){console.log(s)}})}adjuntarArchivo(e){const i=e.files;i.length>0&&(this.archivoAdjunto=i[0])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.K),t.Y36(d.gz),t.Y36(a.QS),t.Y36(C.ez))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ver-una"]],viewQuery:function(e,i){if(1&e&&t.Gf(T,5),2&e){let s;t.iGM(s=t.CRH())&&(i.fileUpload=s.first)}},decls:6,vars:2,consts:[["titulo","Detalles",4,"ngIf","ngIfElse"],["elseBlock",""],["elseBlockRespuestas",""],["titulo","Detalles"],["card-body",""],["id","card-custom",1,"my-3"],["id","card-header"],[1,"p-inputgroup"],[1,"p-inputgroup-addon",2,"background-color","#f16357","border","1px solid #f16357","color","white"],[1,"pi","pi-calendar"],["id","card-body",1,"grid"],[1,"col-12","md:col-4","lg:col-2","flex","justify-content-center"],["appImgError","","src","assets/images/logo.png","title","Logo Uniguajira","alt","Logo Uniguajira",2,"max-width","100px","max-height","100px"],[1,"col-12","md:col-8","lg:col-10"],[1,"grid","flex","justify-content-center"],[1,"col-12","md:col-12","lg:col-12","text-center"],[1,"col-12","md:col-12","lg:col-12"],[1,"col-12","md:col-6","lg:col-6"],["class","mx-2 lg:flex lg:justify-content-start sm:flex sm:justify-content-start",4,"ngIf"],[1,"mx-2","lg:flex","lg:justify-content-end","sm:flex","sm:justify-content-end"],["pButton","","type","button",3,"label"],[4,"ngIf","ngIfElse"],[1,"pi","pi-calendar-plus"],["id","card-body"],[3,"formGroup"],[1,"grid"],[1,"col-12","flex","justify-content-center"],["rows","7","cols","10","placeholder","Aqui puedes escribir la respuesta a lo solicitado en la solicitud.","formControlName","descripcion","pInputTextarea","",3,"maxlength"],[1,"col-12","my-3"],["htmlFor","Asunto",1,"mb-2"],["name","anexo","chooseLabel","Subir",3,"maxFileSize","showUploadButton","showCancelButton","onSelect"],["fileUpload",""],["pButton","","pRipple","","type","submit","label","Responder",1,"p-button-success",3,"click"],[1,"mx-2","lg:flex","lg:justify-content-start","sm:flex","sm:justify-content-start"],["Target","_blank",3,"href"],["pButton","","type","button","label","Anexo","icon","pi pi-paperclip",1,"p-button-success","m-2"],[1,"text-center","my-2"],["id","card-anwser-custom","class","my-3",4,"ngFor","ngForOf"],["id","card-anwser-custom",1,"my-3"],[1,"p-inputgroup-addon",2,"background-color","#9BABB8","border","1px solid #9BABB8","color","white"],[1,"pi","pi-calendar-minus"],[1,"text-center"]],template:function(e,i){if(1&e&&(t.YNc(0,w,61,24,"app-card",0),t.YNc(1,S,1,0,"ng-template",null,1,t.W1O),t.YNc(3,E,3,0,"ng-template",null,2,t.W1O),t._UZ(5,"p-toast")),2&e){const s=t.MAs(2);t.Q6J("ngIf",i.solicitud.length>0)("ngIfElse",s)}},dependencies:[p.sg,p.O5,a._Y,a.Fj,a.JJ,a.JL,a.nD,a.sg,a.u,b.A,y.O,_.j,x.Hq,h.FN,v.g,Z.p],styles:["#card-custom[_ngcontent-%COMP%]{border:1px solid rgba(93,90,90,.2);border-radius:5px;box-shadow:#0000001a 0 1px 3px,#0000000f 0 1px 2px}#card-custom[_ngcontent-%COMP%]   #card-header[_ngcontent-%COMP%]{width:100%;height:2.1rem;border:1px solid rgba(93,90,90,.2);border-radius:5px 5px 0 0;background-color:#f16357}#card-custom[_ngcontent-%COMP%]   #card-body[_ngcontent-%COMP%]{padding:1rem}#card-anwser-custom[_ngcontent-%COMP%]{border:1px solid rgba(93,90,90,.2);border-radius:5px;box-shadow:#0000001a 0 1px 3px,#0000000f 0 1px 2px}#card-anwser-custom[_ngcontent-%COMP%]   #card-header[_ngcontent-%COMP%]{width:100%;height:2.1rem;border:1px solid rgba(93,90,90,.2);border-radius:5px 5px 0 0;background-color:#9babb8}#card-anwser-custom[_ngcontent-%COMP%]   #card-body[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]     .p-component{.p-fileupload-buttonbar {background: #fff; border: 1px solid #fff;} .p-fileupload-content {background: #fff; border: 1px solid #fff;}}"]}),n})()}];let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(B),d.Bz]}),n})();var V=o(1740),D=o(8396),J=o(1493),Y=o(369),N=o(2174),L=o(4247),Q=o(2210),k=o(5108),z=o(2946),H=o(4466);let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,a.u5,a.UX,F,H.m,V.j,x.hJ,h.EV,D.U$,J.S,Y.n,N.fx,L.d,Q.kW,v.A,k.x,z.L,Z.O]}),n})()},2925:(A,u,o)=>{o.d(u,{O:()=>t});var p=o(8274);const d=function(){return{height:"80vh"}};let t=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=p.Xpm({type:c,selectors:[["app-spinner"]],decls:2,vars:3,consts:[[1,"flex","align-items-center","justify-content-center","flex-column"],[1,"loader"]],template:function(l,a){1&l&&(p.TgZ(0,"div",0),p._UZ(1,"span",1),p.qZA()),2&l&&p.Akn(p.DdM(2,d))},styles:['.loader[_ngcontent-%COMP%]{width:20px;height:20px;box-shadow:0 30px,0 -30px;border-radius:4px;background:currentColor;display:block;margin:-70px auto 0;position:relative;color:#fff;transform:translateY(30px);box-sizing:border-box;animation:animloader 2s ease infinite}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;width:20px;height:20px;box-shadow:0 30px,0 -30px;border-radius:4px;background:currentColor;color:#fff;position:absolute;left:30px;top:0;animation:animloader 2s .2s ease infinite}.loader[_ngcontent-%COMP%]:before{animation-delay:.4s;left:60px}@keyframes animloader{0%{top:0;color:#f55e03}50%{top:30px;color:#e27c1b}to{top:0;color:#f0d928}}']}),c})()}}]);
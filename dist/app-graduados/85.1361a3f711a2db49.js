"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[85],{8085:(Z,p,r)=>{r.r(p),r.d(p,{AsistenciaModule:()=>Q});var u=r(6895),m=r(2496),n=r(8274);let h=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-ver"]],decls:2,vars:0,template:function(t,o){1&t&&(n.TgZ(0,"p"),n._uU(1,"ver works!"),n.qZA())}}),e})();var v=r(2340),d=r(659),C=r(1009),b=r(805),A=r(9219),y=r(6474),f=r(5593),g=r(2453);function M(e,a){1&e&&(n.TgZ(0,"p",12),n._uU(1,"\u231b Cargando..."),n.qZA())}const l=function(){return{width:"50px",height:"50px"}},x=[{path:"ver-asistencias",component:h},{path:"llenar-asistencias",component:(()=>{class e{constructor(t,o,i){this.qrcode=t,this.eventosService=o,this.messageService=i,this.API_URI=v.N.API_URI,this.inforCardDescription="\n  Llenar Asistencia' brinda la capacidad de registrar la asistencia a eventos en tiempo real. Utilizando c\xf3digos QR enviados a los usuarios, esta funci\xf3n agiliza el proceso de confirmaci\xf3n de asistencia, permitiendo un seguimiento preciso y una gesti\xf3n eficiente de la participaci\xf3n en cada actividad.\n  ",this.token="",this.currentQr="",this.banderaBtnConfirmQr=!0,this.selectedFiles=[],this.config={isAuto:!0,text:{font:"25px serif"},frame:{lineWidth:8},medias:{audio:!1,video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}}}}ngOnInit(){this.token=localStorage.getItem("token")}onError(t){alert(t)}handle(t,o){t[o]().subscribe(console.log,console.error)}onSelects(t){this.qrcode.loadFiles(t).subscribe(o=>{this.selectedFiles=o.filter(i=>i.url),console.log(o)})}confirmQr(t,o){this.banderaBtnConfirmQr=!0,console.log(o);try{this.eventosService.get(t,this.token).subscribe(i=>{if("Ok"!==i.data.message)return this.messageService.add({severity:"warn",summary:"Warn",detail:"Algo salio mal"});this.messageService.add({severity:"success",summary:"Success",detail:"Confirmacion exitosa"})})}catch(i){console.log("Error en consulta",i),this.messageService.add({severity:"error",summary:"Error",detail:"Error del servidor"})}}verifyConfirm(t){return t.length<=0||(this.currentQr!==t[0].value&&(this.banderaBtnConfirmQr=!1),this.currentQr=t[0].value),this.banderaBtnConfirmQr}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.Lq),n.Y36(C.S),n.Y36(b.ez))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-llenar"]],decls:15,vars:25,consts:[["titulo","Confirmaci\xf3n de Asistencia"],["card-body","",1,"grid","flex","justify-content-center"],[3,"description"],[1,"col-12","md:col-12","lg:col-12","flex","justify-content-center"],[3,"config","error"],["action","scanner"],["class","text-center",4,"ngIf"],["pButton","","type","button","label","Confirmar asistencia",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-power-off",1,"m-3",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-pause",1,"m-3","p-button-warning",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-play",1,"m-3","p-button-secondary",3,"disabled","click"],["pButton","","pRipple","","type","button","icon","pi pi-image",1,"m-3","p-button-help",3,"disabled","click"],[1,"text-center"]],template:function(t,o){if(1&t){const i=n.EpF();n.TgZ(0,"app-card",0)(1,"div",1),n._UZ(2,"app-custom-info-card",2),n.TgZ(3,"div",3)(4,"ngx-scanner-qrcode",4,5),n.NdJ("error",function(s){return o.onError(s)}),n.qZA()(),n.YNc(6,M,2,0,"p",6),n.TgZ(7,"div",3)(8,"button",7),n.NdJ("click",function(){n.CHM(i);const s=n.MAs(5);return n.KtG(o.confirmQr(s.data.value[0].value,s))}),n.qZA()(),n.TgZ(9,"div",3)(10,"button",8),n.NdJ("click",function(){n.CHM(i);const s=n.MAs(5);return n.KtG(o.handle(s,s.isStart?"stop":"start"))}),n.qZA(),n.TgZ(11,"button",9),n.NdJ("click",function(){n.CHM(i);const s=n.MAs(5);return n.KtG(o.handle(s,"pause"))}),n.qZA(),n.TgZ(12,"button",10),n.NdJ("click",function(){n.CHM(i);const s=n.MAs(5);return n.KtG(o.handle(s,"play"))}),n.qZA(),n.TgZ(13,"button",11),n.NdJ("click",function(){n.CHM(i);const s=n.MAs(5);return n.KtG(s.download("ngx-scanner-qrcode"))}),n.qZA()()()(),n._UZ(14,"p-toast")}if(2&t){const i=n.MAs(5);n.xp6(2),n.Q6J("description",o.inforCardDescription),n.xp6(2),n.Q6J("config",o.config),n.xp6(2),n.Q6J("ngIf",i.isLoading),n.xp6(2),n.Q6J("disabled",o.verifyConfirm(i.data.value)),n.xp6(2),n.Akn(n.DdM(21,l)),n.Tol(i.isStart?"p-button-danger":"p-button-success"),n.Q6J("disabled",i.isLoading),n.xp6(1),n.Akn(n.DdM(22,l)),n.Q6J("disabled",i.isLoading)("disabled",!i.isStart),n.xp6(1),n.Akn(n.DdM(23,l)),n.Q6J("disabled",i.isLoading)("disabled",!i.isStart),n.xp6(1),n.Akn(n.DdM(24,l)),n.Q6J("disabled",i.isLoading)("disabled",!i.isStart)}},dependencies:[u.O5,A.A,y.t,d.d$,f.Hq,g.FN],styles:["@media only screen and (min-width: 320px){ngx-scanner-qrcode[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width: 768px){ngx-scanner-qrcode[_ngcontent-%COMP%]{width:100%}}@media only screen and (min-width: 1280px){ngx-scanner-qrcode[_ngcontent-%COMP%]{max-width:800px}}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[m.Bz.forChild(x),m.Bz]}),e})();var L=r(4466);let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[u.ez,T,L.m,d.Mk,f.hJ,g.EV]}),e})()}}]);
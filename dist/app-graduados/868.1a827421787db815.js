"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[868],{7868:(K,m,i)=>{i.r(m),i.d(m,{UsuariosModule:()=>$});var U=i(6895),g=i(1933),r=i(433),_=i(2340),t=i(8274),x=i(7180),u=i(805),k=i(1967),G=i(9219),M=i(6209),h=i(1740),f=i(5593),v=i(2453),p=i(8396),b=i(1493),Z=i(369),C=i(4247);const F=function(){return{display:"flex","justify-content":"space-between"}},J=function(){return{"font-size":"20px"}},A=function(){return{width:"100%"}};function E(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"div",24)(1,"div",16)(2,"div",2),t._uU(3," Lista de Usuarios "),t.qZA(),t.TgZ(4,"div",25)(5,"span",26),t._UZ(6,"i",27),t.TgZ(7,"input",28),t.NdJ("input",function(a){t.CHM(o);const l=t.oxw(),c=t.MAs(12);return t.KtG(c.filterGlobal(l.getEventValue(a),"contains"))}),t.qZA()()()()()}2&n&&(t.xp6(1),t.Akn(t.DdM(8,F)),t.xp6(1),t.Akn(t.DdM(9,J)),t.xp6(3),t.Akn(t.DdM(10,A)),t.xp6(2),t.Akn(t.DdM(11,A)))}function N(n,s){1&n&&(t.TgZ(0,"tr")(1,"th",29),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(3,"th",30)(4,"p"),t._uU(5,"Indice"),t.qZA()(),t.TgZ(6,"th",31)(7,"div",32),t._uU(8," Nombre "),t._UZ(9,"p-sortIcon",33)(10,"p-columnFilter",34),t.qZA()(),t.TgZ(11,"th",35),t._uU(12," Editar "),t.qZA(),t.TgZ(13,"th",35),t._uU(14," Eliminar "),t.qZA()())}function w(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"tr",36)(1,"td"),t._UZ(2,"p-tableCheckbox",37),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span",38),t._uU(7,"Tipo"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td",39)(10,"button",40),t.NdJ("click",function(){const l=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.changeDisplayFormEdit(l))}),t.qZA()(),t.TgZ(11,"td",39),t._UZ(12,"p-confirmPopup"),t.TgZ(13,"button",41),t.NdJ("click",function(a){const c=t.CHM(o).$implicit,z=t.oxw();return t.KtG(z.confirm(a,c.id))}),t.qZA()()()}if(2&n){const o=s.$implicit,e=s.rowIndex;t.xp6(2),t.Q6J("value",o),t.xp6(2),t.hij(" ",e+1," "),t.xp6(4),t.hij(" ",o.name," ")}}function D(n,s){1&n&&(t.TgZ(0,"tr")(1,"td",42),t._uU(2,"No hay datos que mostrar"),t.qZA()())}const S=function(){return{width:"60%","max-width":"40rem",margin:"auto"}},I=function(){return{width:"60%","max-width":"30rem",margin:"auto"}},R=function(){return[10,25,50]},P=function(){return["tipo"]},T=function(n){return{width:n,"text-aling":"center"}},y=function(){return{"font-weight":"bold"}},d=function(){return{width:"40%"}},B=[{path:"gestionar",component:(()=>{class n{constructor(o,e,a,l){this.adminService=o,this.messageService=e,this.pantallaService=a,this.confirmationService=l,this.API_URI=_.N.API_URI,this.displayFormCreate=!1,this.displayFormEdit=!1,this.loading=!1,this.usuariosSeleccionados=[],this.usuarios=[],this.usuariosVerificated=[],this.formCreate=new r.cw({tipo:new r.NI("",r.kI.required)}),this.formEdit=new r.cw({tipo:new r.NI("",r.kI.required)})}ngOnInit(){this.token=localStorage.getItem("token");const[o]=this.pantallaService.calcularEspacioPantalla();this.subscription$=o.subscribe(e=>this.width=e)}ngOnDestroy(){this.subscription$.unsubscribe()}onSubmit(){}handleEdit(){}deleteAll(){}changeDisplayFormCreate(){this.displayFormCreate=!this.displayFormCreate}changeDisplayFormEdit(o={}){this.displayFormEdit=!this.displayFormEdit}traerUsuarios(){}getEventValue(o){return o.target.value}confirm(o,e){console.log("Confir called"),this.confirmationService.confirm({target:o.target,message:"\xbfSeguro que desea eliminar este genero?",icon:"pi pi-exclamation-triangle",accept:()=>{try{this.adminService.delete(`${this.API_URI}/poll/momentos/delete/${e}/`,this.token).subscribe(a=>(this.traerUsuarios(),this.messageService.add({severity:"success",summary:"Success",detail:"Eliminado correctamente !!!"})))}catch(a){console.log(a)}},reject:()=>{}})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(x.l),t.Y36(u.ez),t.Y36(k.c),t.Y36(u.YP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gestionar"]],decls:42,vars:57,consts:[["titulo","Gestionar Usuarios"],["card-body","",1,"grid"],[1,"col-12","md:col-6","lg:col-6"],[1,"flex","flex-column","gap-2"],["pButton","","pRipple","","type","submit","label","Nuevo",1,"p-button-success",3,"click"],["pButton","","pRipple","","type","submit","label"," Eliminar seleccionados",1,"p-button-danger",3,"disabled","click"],[1,"col-12","md:col-12","lg:col-12"],["dataKey","id","styleClass","p-datatable-customers","responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} elementos","responsiveLayout","scroll",3,"value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"visible","showHeader","modal","dismissableMask","visibleChange"],["titulo","Creando Usuario"],[3,"formGroup"],[1,"grid"],[1,"mb-2"],["type","text","placeholder","Escribe aqui..","formControlName","tipo","pInputText",""],[1,"col-12","md:col-12","lg:col-12","flex","justify-content-center"],["pButton","","pRipple","","type","button","label","Guardar",1,"p-button-success","m-3",3,"disabled","click"],["pButton","","pRipple","","type","button","label","Volver",1,"p-button-raised","p-button-secondary","m-3",3,"click"],["titulo","Editando Usuario"],["pButton","","pRipple","","type","button","label","Editar",1,"p-button-warning","m-3",3,"disabled","click"],[1,"table-header"],[1,"col-12","md:col-6","lg:col-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Busqueda global",3,"input"],[2,"width","3rem"],[2,"width","5rem"],["pSortableColumn","tipo"],[1,"flex","justify-content-between","align-items-center"],["field","tipo"],["type","text","field","tipo","display","menu",1,"ml-auto"],[2,"width","8rem","text-align","center"],[1,"p-selectable-row"],[3,"value"],[1,"p-column-title"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-warning",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-danger",3,"click"],["colspan","8"]],template:function(o,e){1&o&&(t.TgZ(0,"app-card",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return e.changeDisplayFormCreate()}),t.qZA()()(),t.TgZ(5,"div",2)(6,"div",3)(7,"button",5),t.NdJ("click",function(){return e.deleteAll()}),t.qZA()()(),t.TgZ(8,"div",6)(9,"div",3)(10,"p-card")(11,"p-table",7,8),t.NdJ("selectionChange",function(l){return e.usuariosSeleccionados=l}),t.YNc(13,E,8,12,"ng-template",9),t.YNc(14,N,15,0,"ng-template",10),t.YNc(15,w,14,3,"ng-template",11),t.YNc(16,D,3,0,"ng-template",12),t.qZA()()()()()(),t.TgZ(17,"p-dialog",13),t.NdJ("visibleChange",function(l){return e.displayFormCreate=l}),t.TgZ(18,"app-card-dialog",14)(19,"form",15)(20,"div",16)(21,"div",6)(22,"div",3)(23,"label",17),t._uU(24,"Nombre "),t.qZA(),t._UZ(25,"input",18),t.qZA()(),t.TgZ(26,"div",19)(27,"button",20),t.NdJ("click",function(){return e.onSubmit()}),t.qZA(),t.TgZ(28,"button",21),t.NdJ("click",function(){return e.changeDisplayFormCreate()}),t.qZA()()()()()(),t.TgZ(29,"p-dialog",13),t.NdJ("visibleChange",function(l){return e.displayFormEdit=l}),t.TgZ(30,"app-card-dialog",22)(31,"form",15)(32,"div",16)(33,"div",6)(34,"div",3)(35,"label",17),t._uU(36,"Nombre "),t.qZA(),t._UZ(37,"input",18),t.qZA()(),t.TgZ(38,"div",19)(39,"button",23),t.NdJ("click",function(){return e.handleEdit()}),t.qZA(),t.TgZ(40,"button",21),t.NdJ("click",function(){return e.changeDisplayFormEdit()}),t.qZA()()()()()(),t._UZ(41,"p-toast")),2&o&&(t.xp6(4),t.Akn(t.DdM(43,S)),t.xp6(3),t.Akn(t.DdM(44,I)),t.Q6J("disabled",e.usuariosSeleccionados.length<=0),t.xp6(4),t.Q6J("value",e.usuarios)("selection",e.usuariosSeleccionados)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(45,R))("loading",e.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(46,P)),t.xp6(6),t.Akn(t.VKq(47,T,e.width)),t.Q6J("visible",e.displayFormCreate)("showHeader",!1)("modal",!0)("dismissableMask",!0),t.xp6(2),t.Q6J("formGroup",e.formCreate),t.xp6(4),t.Akn(t.DdM(49,y)),t.xp6(4),t.Akn(t.DdM(50,d)),t.Q6J("disabled",!e.formCreate.valid),t.xp6(1),t.Akn(t.DdM(51,d)),t.xp6(1),t.Akn(t.VKq(52,T,e.width)),t.Q6J("visible",e.displayFormEdit)("showHeader",!1)("modal",!0)("dismissableMask",!0),t.xp6(2),t.Q6J("formGroup",e.formEdit),t.xp6(4),t.Akn(t.DdM(54,y)),t.xp6(4),t.Akn(t.DdM(55,d)),t.Q6J("disabled",!e.formEdit.valid),t.xp6(1),t.Akn(t.DdM(56,d)))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,G.A,M.i,h.o,f.Hq,v.FN,u.jx,p.iA,p.lQ,p.fz,p.UA,p.Mo,p.xl,b.V,Z.P,C.Z]}),n})()}];let j=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(B),g.Bz]}),n})();var q=i(4466),H=i(2210),Q=i(3054),Y=i(1989),V=i(613);let $=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[U.ez,r.u5,r.UX,j,q.m,h.j,f.hJ,v.EV,p.U$,b.S,H.kW,Z.n,Q.A,Y.nD,V.cc,C.d]}),n})()}}]);
"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[79],{2079:(kt,L,d)=>{d.r(L),d.d(L,{RolesRecursosModule:()=>Ut});var C=d(6895),B=d(1933),oe=d(5861),a=d(433),q=d(2340),e=d(8274),k=d(7180),h=d(805),c=d(8396),x=d(5593),y=d(1493),U=d(1740),O=d(8377),G=d(3631),D=d(2453);function ne(o,r){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Id"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Path"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Method"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Id_Padre"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Icono"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Link"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Titulo"),e.qZA()())}function se(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()()),2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.path),e.xp6(2),e.Oqu(t.method),e.xp6(2),e.Oqu(t.id_padre),e.xp6(2),e.Oqu(t.icono),e.xp6(2),e.Oqu(t.link),e.xp6(2),e.Oqu(t.titulo)}}const re=function(){return{margin:"0 auto"}},ae=function(){return{width:"100%"}},j=function(){return{width:"60vw",height:"50%"}};let le=(()=>{class o{constructor(t,i,n){this.fb=t,this.adminService=i,this.messageService=n,this.display=!1,this.blockSpecial=/^[^<>*!@.,]+$/,this.API_URI=q.N.API_URI,this.rolesId={label:"Seleccione un rol",value:null},this.bandera=!1,this.displayTest=!1,this.roles=[],this.ids=[],this.items=[],this.filteredItems=[],this.form=this.fb.group({path:["",[a.kI.required]],method:["",[a.kI.required]],id_padre:["",[a.kI.required]],icono:["",[a.kI.required]],link:["",[a.kI.required]],titulo:["",[a.kI.required]]}),this.formTest=this.fb.group({path:["",[a.kI.required]],id_padre:["",[a.kI.required]],link:["",[a.kI.required]],titulo:["",[a.kI.required]],icono:["",[a.kI.required]]}),this.recursos=[],this.rolesRecuersos=[{rolesId:"",resources:[]}],this.indexListResources=1,this.IdsAbuelo=[],this.IdsPadre=[],this.IdsNieto=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.adminService.get(`${this.API_URI}/roles`,this.token).subscribe(t=>{this.roles=t.data,t.data.map(i=>{this.items.push({label:i.name,value:i.id}),this.ids.push(i.id)})})}submit(){this.addResource(this.form.value),this.form.reset(),this.rolesRecuersos[0].resources.length&&(this.bandera=!0),this.showDialog(),console.log(this.rolesRecuersos[0])}onSubmitTest(){console.log(this.formTest.value)}showDialog(){this.display=!this.display}guardarRecursoRol(){var t=this;this.rolesRecuersos[0].rolesId=this.rolesId.value,console.log(this.ids),console.log(this.rolesRecuersos[0].rolesId),this.ids.includes(this.rolesRecuersos[0].rolesId)?this.adminService.post(`${this.API_URI}/security/create/roles/resources/`,this.rolesRecuersos[0],this.token).subscribe(function(){var i=(0,oe.Z)(function*(n){console.log(n),yield t.messageService.add({severity:"success",summary:"Success",detail:"Recursos guardados"}),t.resetVariables()});return function(n){return i.apply(this,arguments)}}()):this.messageService.add({severity:"error",summary:"Error",detail:"El rol no existe"})}addResource(t){let i={id:0,path:t.path,method:t.method,id_padre:t.id_padre,icono:t.icono,link:t.link,titulo:t.titulo,items:[]};0==t.id_padre&&(i.id=this.indexListResources,this.IdsAbuelo.push(i.id),this.rolesRecuersos[0].resources.push(i),this.recursos.push(i),this.indexListResources++),0!=t.id_padre&&this.IdsAbuelo.includes(t.id_padre)&&(i.id=this.indexListResources,this.IdsPadre.push(i.id),this.rolesRecuersos[0].resources.map(n=>{n.id==t.id_padre&&(n.items.push(i),this.recursos.push(i),this.indexListResources++)})),0!=t.id_padre&&this.IdsPadre.includes(t.id_padre)&&(i.id=this.indexListResources,this.IdsNieto.push(i.id),this.rolesRecuersos[0].resources.map(n=>{n.id==t.id_padre-1&&n.items.map(s=>{s.id==t.id_padre&&(s.items.push(i),this.recursos.push(i),this.indexListResources++)})})),0!=t.id_padre&&!this.IdsPadre.includes(t.id_padre)&&!this.IdsAbuelo.includes(t.id_padre)&&this.messageService.add({severity:"error",summary:"Error",detail:"No existe esa id_padre"}),console.log("-----ROLES Y RECURSOS-----"),console.log(this.rolesRecuersos)}resetVariables(){this.indexListResources=1,this.IdsAbuelo=[],this.IdsPadre=[],this.IdsNieto=[],this.rolesRecuersos=[{rolesId:"",resources:[]}],this.recursos=[]}filterItems(t){let i=[],n=t.query;for(let s=0;s<this.items.length;s++){let l=this.items[s];0==l.label.toLowerCase().indexOf(n.toLowerCase())&&i.push(l)}this.filteredItems=i}changeDisplayTest(){this.displayTest=!this.displayTest}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.QS),e.Y36(k.l),e.Y36(h.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crear"]],decls:46,vars:36,consts:[[1,"grid","p-8"],[1,"col-6"],["pButton","","pRipple","","type","button","label","Agregar recurso",1,"p-button-primary","mx-5",3,"click"],["field","label",3,"ngModel","virtualScroll","suggestions","dropdown","ngModelChange","completeMethod"],["pButton","","pRipple","","type","button","label","Guardar recursos",1,"p-button-success","mx-5",3,"disabled","click"],[1,"col-12"],["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],["header","Crear test",1,"dialog-form-crear","col-12","md:col-6","lg:col-3",3,"visible","modal","showHeader","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"flex","flex-column"],["type","text","pInputText","","formControlName","path","placeholder","path"],["type","text","pInputText","","formControlName","id_padre","placeholder","id_padre"],["type","text","pInputText","","formControlName","link","placeholder","link"],["type","text","pInputText","","formControlName","titulo","placeholder","titulo"],["type","text","pInputText","","formControlName","icono","placeholder","icono"],["pButton","","pRipple","","type","submit","label","Agregar recurso",1,"p-button-primary","mx-5",3,"click"],["header","Crear recuerso",1,"dialog-form-crear","col-12","md:col-6","lg:col-3",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","submit"],[1,"card"],[1,"grid"],[1,"field","col-12","md:col-12","lg:col-6"],["for","Path"],["type","text","pInputText","","formControlName","path","placeholder","/dashboard/admin/","required","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"pKeyFilter"],["for","Method"],["type","text","pInputText","","formControlName","method","placeholder","GET","required","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"pKeyFilter"],["for","Id_padre"],["type","number","pInputText","","formControlName","id_padre","placeholder","Escribe aqui..",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"pKeyFilter"],["for","Icono"],["type","text","pInputText","","formControlName","icono","placeholder","pi pi-home","required","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"pKeyFilter"],["for","Link"],["type","text","pInputText","","formControlName","link","placeholder","/dashboard/admin","required","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"pKeyFilter"],["for","Titulo"],["type","text","pInputText","","formControlName","titulo","placeholder","Admin","required","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"pKeyFilter"],["pButton","","pRipple","","type","submit","label","Guardar rol",1,"p-button-success","my-3",3,"disabled"]],template:function(t,i){1&t&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return i.changeDisplayTest()}),e.qZA(),e.TgZ(4,"p-autoComplete",3),e.NdJ("ngModelChange",function(s){return i.rolesId=s})("completeMethod",function(s){return i.filterItems(s)}),e.qZA()(),e.TgZ(5,"div",1)(6,"button",2),e.NdJ("click",function(){return i.showDialog()}),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return i.guardarRecursoRol()}),e.qZA()(),e.TgZ(8,"div",5)(9,"p-table",6),e.YNc(10,ne,15,0,"ng-template",7),e.YNc(11,se,15,7,"ng-template",8),e.qZA()()(),e.TgZ(12,"p-dialog",9),e.NdJ("visibleChange",function(s){return i.displayTest=s}),e.TgZ(13,"form",10)(14,"div",11),e._UZ(15,"input",12)(16,"input",13)(17,"input",14)(18,"input",15)(19,"input",16),e.qZA(),e.TgZ(20,"button",17),e.NdJ("click",function(){return i.onSubmitTest()}),e.qZA()()(),e.TgZ(21,"p-dialog",18),e.NdJ("visibleChange",function(s){return i.display=s}),e.TgZ(22,"form",19),e.NdJ("submit",function(){return i.submit()}),e.TgZ(23,"div",20)(24,"div",21)(25,"div",22)(26,"label",23),e._uU(27,"Path :"),e.qZA(),e._UZ(28,"input",24),e.TgZ(29,"label",25),e._uU(30,"Method :"),e.qZA(),e._UZ(31,"input",26),e.TgZ(32,"label",27),e._uU(33,"Id_padre :"),e.qZA(),e._UZ(34,"input",28),e.qZA(),e.TgZ(35,"div",22)(36,"label",29),e._uU(37,"Icono :"),e.qZA(),e._UZ(38,"input",30),e.TgZ(39,"label",31),e._uU(40,"Link :"),e.qZA(),e._UZ(41,"input",32),e.TgZ(42,"label",33),e._uU(43,"Titulo :"),e.qZA(),e._UZ(44,"input",34),e.qZA()(),e._UZ(45,"button",35),e.qZA()()()),2&t&&(e.xp6(1),e.Akn(e.DdM(32,re)),e.xp6(3),e.Q6J("ngModel",i.rolesId)("virtualScroll",!0)("suggestions",i.filteredItems)("dropdown",!0),e.xp6(3),e.Q6J("disabled",!i.bandera),e.xp6(2),e.Akn(e.DdM(33,ae)),e.Q6J("value",i.recursos),e.xp6(3),e.Akn(e.DdM(34,j)),e.Q6J("visible",i.displayTest)("modal",!0)("showHeader",!0)("draggable",!1)("resizable",!1),e.xp6(1),e.Q6J("formGroup",i.formTest),e.xp6(8),e.Akn(e.DdM(35,j)),e.Q6J("visible",i.display)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("pKeyFilter",i.blockSpecial),e.xp6(3),e.Q6J("pKeyFilter",i.blockSpecial),e.xp6(3),e.Q6J("pKeyFilter",i.blockSpecial),e.xp6(4),e.Q6J("pKeyFilter",i.blockSpecial),e.xp6(3),e.Q6J("pKeyFilter",i.blockSpecial),e.xp6(3),e.Q6J("pKeyFilter",i.blockSpecial),e.xp6(1),e.Q6J("disabled",!i.form.valid))},dependencies:[h.jx,c.iA,x.Hq,y.V,U.o,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.On,a.sg,a.u,O.Fr,G.Qc,D.FN],styles:["p-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;display:flex;width:50%}button[_ngcontent-%COMP%]{min-width:10rem;margin-right:.5rem}@media screen and (max-width: 960px){button[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}}[_nghost-%COMP%]     .p-toast-message-custom{background-color:#e1cfe7;border:solid #8A427A;border-width:0 0 0 6px;color:#2c1e30}[_nghost-%COMP%]     .p-toast-message-custom .p-toast-icon-close{color:#2c1e30}"]}),o})();function K(o){return o.map(t=>{const i=t.split(" ");return i.shift(),i.join(" ")})}function F(o,r=[],t){for(const i in o)if("object"!=typeof o[i]||Array.isArray(o[i]))if(Array.isArray(o[i])&&o[i].includes("gestionar"))r.push(`${t?`${t} ${i}`:i} gestionar`);else{const n=t?`${i}`:i;o[i].forEach(s=>{r.push(`${n} ${s}`)})}else F(o[i],r,i);return r}function z(o,r){const t={role:"",permissions:[]},i={user:[],document_types:[],faculties:[],genders:[],headquarters:[],programs:[],categoria:[],tiposcapacitaciones:[],subcategoria:[],anuncio:[],detalles:[],pqrs:[],tipopqrs:[],asignacion:[],answer:[],tipomomento:[],question:[],eventosarea:[],tipoevento:[],subareaeventos:[],evento:[],asistencia:[],roles:[]};r.forEach(s=>{if(2===s.split(" ").length){let l=s.split(" ").shift();void 0!==l&&i[l].push("gestionar")}else{let l=s.split(" ").pop()?.toLocaleLowerCase();void 0!==l&&i[l].push(s)}}),t.role=o;for(const s in i){let l={};l[s]=i[s],t.permissions.push(l)}const n={};for(const s in i)"evento"===s?n.eventos=i[s]:n[s]=i[s];return t.permissions=n,t}var w=d(9050),M=d(1967),P=d(9219),R=d(6474),I=d(4247),V=d(1989),S=d(369);let de=(()=>{class o{transform(t){return ce[t]||t}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"formatPermissionName",type:o,pure:!0}),o})();const ce={auth_module:"Autentificaci\xf3n",user:"Usuarios",document_types:"Tipo Documentos",faculties:"Facultades",genders:"Generos",headquarters:"Sedes",programs:"Programas",classified_advertisements:"Clasificados",categoria:"Categorias",tiposcapacitaciones:"Tipo Capacitaciones",subcategoria:"Subcategorias",anuncio:"Emprendimientos",detalles:"Verificar Emprendimiento",pqrs:"PQRS",tipopqrs:"Tipo PQRS",asignacion:"Asignaci\xf3n",encuestas:"Encuestas",answer:"Llenar Encuestas",tipomomento:"Tipo Momentos",question:"Preguntas",eventos:"Eventos",eventosarea:"Areas",tipoevento:"Tipo Eventos",subareaeventos:"Subareas",asistencia:"Asistencia",admin:"Administrador",roles:"Roles"},ue=function(){return{display:"flex","justify-content":"space-between"}},me=function(){return{"font-size":"20px"}},X=function(){return{width:"100%"}};function _e(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",21)(2,"div",30),e._uU(3," Lista de Roles "),e.qZA(),e.TgZ(4,"div",31)(5,"span",32),e._UZ(6,"i",33),e.TgZ(7,"input",34),e.NdJ("input",function(n){e.CHM(t);const s=e.oxw(),l=e.MAs(10);return e.KtG(l.filterGlobal(s.getEventValue(n),"contains"))}),e.qZA()()()()()}2&o&&(e.xp6(1),e.Akn(e.DdM(8,ue)),e.xp6(1),e.Akn(e.DdM(9,me)),e.xp6(3),e.Akn(e.DdM(10,X)),e.xp6(2),e.Akn(e.DdM(11,X)))}function ge(o,r){1&o&&(e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36)(4,"p"),e._uU(5,"Indice"),e.qZA()(),e.TgZ(6,"th",37)(7,"div",38),e._uU(8," Rol "),e._UZ(9,"p-sortIcon",39)(10,"p-columnFilter",40),e.qZA()(),e.TgZ(11,"th",41),e._uU(12," Acciones "),e.qZA()())}function he(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",42)(1,"td"),e._UZ(2,"p-tableCheckbox",43),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"span",44),e._uU(7,"Nombre"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",45)(10,"button",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.changeDisplayFormDetail(s.id,s.name))}),e.qZA(),e.TgZ(11,"button",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.changeDisplayFormUpdate(s.id,s.name))}),e.qZA(),e.TgZ(12,"button",48),e.NdJ("click",function(n){const l=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.confirm(n,l.id))}),e.qZA(),e._UZ(13,"p-confirmPopup"),e.qZA()()}if(2&o){const t=r.$implicit,i=r.rowIndex;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.hij(" ",i+1," "),e.xp6(4),e.hij(" ",t.name," ")}}function fe(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",49),e._uU(2,"No hay datos que mostrar"),e.qZA()())}const Q=function(){return{"min-width":"14rem"}};function Ze(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"formatPermissionName"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Crear"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Editar"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Eliminar"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Ver"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Gestionar"),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Akn(e.DdM(5,Q)),e.xp6(1),e.hij(" ",e.lcZ(3,3,t.title)," ")}}function be(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"p-checkbox",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(4);return e.KtG(s.permissionsSelectedToCreate=n)})("change",function(){const s=e.CHM(t).$implicit,l=e.oxw(2).$implicit,m=e.oxw(2);return e.KtG(m.onPermissionChangeToCreate(l.title+" "+s.name))}),e.qZA()()}if(2&o){const t=r.$implicit,i=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("name",i.title+t.name)("value",i.title+" "+t.name)("ngModel",n.permissionsSelectedToCreate)}}function ve(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"p-checkbox",53),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"p-checkbox",53),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"p-checkbox",53),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"p-checkbox",53),e.qZA(),e.YNc(9,be,2,3,"td",54),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("ngForOf",t.permissions)}}function Ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"p-checkbox",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(4);return e.KtG(s.permissionsSelectedToCreate=n)})("change",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.onPermissionChangeToCreate(s.name))}),e.qZA()()}if(2&o){const t=r.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("name",t.name)("value",t.name)("ngModel",i.permissionsSelectedToCreate)}}function Te(o,r){if(1&o&&(e.YNc(0,Ae,2,3,"td",54),e.TgZ(1,"td"),e._UZ(2,"p-checkbox",53),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.permissions),e.xp6(2),e.Q6J("disabled",!0)}}function Ce(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"formatPermissionName"),e.qZA(),e.YNc(4,ve,10,5,"ng-container",51),e.YNc(5,Te,3,2,"ng-template",null,52,e.W1O),e.qZA()),2&o){const t=r.$implicit,i=e.MAs(6);e.xp6(2),e.hij(" ",e.lcZ(3,3,t.title)," "),e.xp6(2),e.Q6J("ngIf",1===t.permissions.length)("ngIfElse",i)}}function xe(o,r){if(1&o&&(e.TgZ(0,"div",2)(1,"p-table",50),e.YNc(2,Ze,14,6,"ng-template",9),e.YNc(3,Ce,7,5,"ng-template",10),e.qZA()()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.submodules)}}function ye(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"formatPermissionName"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Crear"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Editar"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Eliminar"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Ver"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Gestionar"),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Akn(e.DdM(5,Q)),e.xp6(1),e.hij(" ",e.lcZ(3,3,t.title)," ")}}function Ue(o,r){if(1&o&&(e.TgZ(0,"td"),e._UZ(1,"p-checkbox",56),e.qZA()),2&o){const t=r.$implicit,i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("name",i.title+t.name)("value",i.title+" "+t.name)}}function qe(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"p-checkbox",53),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"p-checkbox",53),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"p-checkbox",53),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"p-checkbox",53),e.qZA(),e.YNc(9,Ue,2,2,"td",54),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("ngForOf",t.permissions)}}function ke(o,r){if(1&o&&(e.TgZ(0,"td"),e._UZ(1,"p-checkbox",56),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("name",t.name)("value",t.name)}}function De(o,r){if(1&o&&(e.YNc(0,ke,2,2,"td",54),e.TgZ(1,"td"),e._UZ(2,"p-checkbox",53),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.permissions),e.xp6(2),e.Q6J("disabled",!0)}}function Ie(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"formatPermissionName"),e.qZA(),e.YNc(4,qe,10,5,"ng-container",51),e.YNc(5,De,3,2,"ng-template",null,52,e.W1O),e.qZA()),2&o){const t=r.$implicit,i=e.MAs(6);e.xp6(2),e.hij(" ",e.lcZ(3,3,t.title)," "),e.xp6(2),e.Q6J("ngIf",1===t.permissions.length)("ngIfElse",i)}}function Je(o,r){if(1&o&&(e.TgZ(0,"div",2)(1,"p-table",50),e.YNc(2,ye,14,6,"ng-template",9),e.YNc(3,Ie,7,5,"ng-template",10),e.qZA()()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.submodules)}}function Ne(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"formatPermissionName"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Crear"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Editar"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Eliminar"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Ver"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Gestionar"),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Akn(e.DdM(5,Q)),e.xp6(1),e.hij(" ",e.lcZ(3,3,t.title)," ")}}function Fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"p-checkbox",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(4);return e.KtG(s.permissionsSelectedToEdit=n)})("change",function(){const s=e.CHM(t).$implicit,l=e.oxw(2).$implicit,m=e.oxw(2);return e.KtG(m.onPermissionChangeToEddit(l.title+" "+s.name))}),e.qZA()()}if(2&o){const t=r.$implicit,i=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("name",i.title+t.name)("value",i.title+" "+t.name)("ngModel",n.permissionsSelectedToEdit)}}function we(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"p-checkbox",53),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"p-checkbox",53),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"p-checkbox",53),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"p-checkbox",53),e.qZA(),e.YNc(9,Fe,2,3,"td",54),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(2),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("ngForOf",t.permissions)}}function Me(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"p-checkbox",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(4);return e.KtG(s.permissionsSelectedToEdit=n)})("change",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.onPermissionChangeToEddit(s.name))}),e.qZA()()}if(2&o){const t=r.$implicit,i=e.oxw(4);e.xp6(1),e.Q6J("name",t.name)("value",t.name)("ngModel",i.permissionsSelectedToEdit)}}function Pe(o,r){if(1&o&&(e.YNc(0,Me,2,3,"td",54),e.TgZ(1,"td"),e._UZ(2,"p-checkbox",53),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.permissions),e.xp6(2),e.Q6J("disabled",!0)}}function Re(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"formatPermissionName"),e.qZA(),e.YNc(4,we,10,5,"ng-container",51),e.YNc(5,Pe,3,2,"ng-template",null,52,e.W1O),e.qZA()),2&o){const t=r.$implicit,i=e.MAs(6);e.xp6(2),e.hij(" ",e.lcZ(3,3,t.title)," "),e.xp6(2),e.Q6J("ngIf",1===t.permissions.length)("ngIfElse",i)}}function Se(o,r){if(1&o&&(e.TgZ(0,"div",2)(1,"p-table",50),e.YNc(2,Ne,14,6,"ng-template",9),e.YNc(3,Re,7,5,"ng-template",10),e.qZA()()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.submodules)}}const Qe=function(){return[10,25,50]},Ee=function(){return["name"]},E=function(o){return{width:o,"text-aling":"center"}},$=function(){return{"font-weight":"bold"}};let $e=(()=>{class o{constructor(t,i,n,s,l){this.fb=t,this.adminService=i,this.pantallaService=n,this.messageService=s,this.confirmationService=l,this.API_URI=q.N.API_URI,this.width="",this.inforCardDescription="\n    Bienvenido a nuestro exclusivo espacio de creaci\xf3n de roles y asignaci\xf3n de permisos, donde la\n    personalizaci\xf3n alcanza nuevas alturas. En este rinc\xf3n dedicado, te ofrecemos la capacidad de dise\xf1ar\n    roles \xfanicos y asignar permisos espec\xedficos, dando forma a la experiencia de usuario seg\xfan tus\n    necesidades y preferencias.\n  ",this.inforCardDescriptionHeaderDialog="\n    Asignar permisos a roles en un sistema de software es esencial para garantizar la seguridad, eficiencia y\n    control de acceso. La asignaci\xf3n de permisos a roles contribuye a la confidencialidad, previene acciones no\n    deseadas, facilita la auditor\xeda para cumplir con normativas, y proporciona una base escalable para el\n    crecimiento de la aplicaci\xf3n. Aqu\xed podras asignar los permisos a tu nuevo rol.\n  ",this.roles=[],this.rolesUpdate=[],this.rolesDetail=[],this.permissionsSelectedToCreate=[],this.permissionsSelectedToEdit=[],this.modules=[],this.itemsBulkDelete=[],this.loading=!1,this.displayFormCreate=!1,this.displayFormDetail=!1,this.displayFormUpdate=!1,this.formCreate=this.fb.group({name:["",[a.kI.required,a.kI.minLength(6),a.kI.maxLength(30)]]}),this.formDetail=this.fb.group({name:[{value:"",disabled:!0}],permissions:[{value:"",disabled:!0}]}),this.formUpdate=this.fb.group({name:["",[a.kI.required,a.kI.minLength(6),a.kI.maxLength(30)]]}),this.variantColor=w.$.Blue}ngOnInit(){const[t]=this.pantallaService.calcularEspacioPantalla();this.subscription$=t.subscribe(i=>this.width=i),this.token=localStorage.getItem("token"),this.getPermissions(),this.getRoles()}getPermissions(){this.adminService.get(`${this.API_URI}/security/roles/permission/`,this.token).subscribe(t=>{this.modules=function pe(o){const r=[];for(const t in o)if(o.hasOwnProperty(t)){const i=o[t],n={id:r.length+1,title:t,submodules:[]};for(const s in i)if(i.hasOwnProperty(s)){const l=i[s].map((_,f)=>({id:f+1,name:_}));n.submodules.push({title:s,permissions:l})}r.push(n)}return r}(t.data)})}getRoles(){this.adminService.get(`${this.API_URI}/roles/`,this.token).subscribe(t=>{this.roles=t.data})}getEventValue(t){return t.target.value}changeDisplayFormCreate(){this.displayFormCreate=!this.displayFormCreate}changeDisplayFormDetail(t,i){this.adminService.get(`${this.API_URI}/roles/permission/related/${t}/`,this.token).subscribe(n=>{const l=K(F(n.data));this.formDetail.patchValue({name:i,permissions:l})}),this.displayFormDetail=!this.displayFormDetail}changeDisplayFormUpdate(t,i){this.adminService.get(`${this.API_URI}/roles/permission/related/${t}/`,this.token).subscribe(n=>{const l=K(F(n.data));this.permissionsSelectedToEdit=l,this.formUpdate.patchValue({name:i})}),this.displayFormUpdate=!this.displayFormUpdate}onSubmitFormCreate(){const{name:t}=this.formCreate.value;if(0===t.length)return this.messageService.add({severity:"error",summary:"Notificaci\xf3n",detail:"El campo [Nombre] es obligatorio"});if(0===this.permissionsSelectedToCreate.length)return this.messageService.add({severity:"error",summary:"Notificaci\xf3n",detail:"Selecciona al menos un permiso"});const i=z(t,this.permissionsSelectedToCreate);try{this.adminService.post(`${this.API_URI}/security/roles/permission/`,i,this.token).subscribe(n=>(this.getPermissions(),this.getRoles(),this.formCreate.reset(),this.displayFormCreate=!1,this.messageService.add({severity:"success",summary:"Notificaci\xf3n",detail:"Creado correctamente"})))}catch(n){console.log(n)}}onSubmitFormUpdate(){const{name:t}=this.formUpdate.value,i=z(t,this.permissionsSelectedToEdit);if(0===t.length)return this.messageService.add({severity:"error",summary:"Notificaci\xf3n",detail:"El campo [Nombre] es obligatorio"});if(0===this.permissionsSelectedToEdit.length)return this.messageService.add({severity:"error",summary:"Notificaci\xf3n",detail:"Selecciona al menos un permiso"});try{this.adminService.put(`${this.API_URI}/security/roles/permission/`,i,this.token).subscribe(n=>(this.getPermissions(),this.getRoles(),this.formUpdate.reset(),this.permissionsSelectedToEdit=[],this.displayFormUpdate=!1,this.messageService.add({severity:"success",summary:"Notificaci\xf3n",detail:"Actualizado correctamente"})))}catch(n){console.log(n)}}onPermissionChangeToEddit(t){this.permissionsSelectedToEdit.includes(t)?this.permissionsSelectedToEdit=this.permissionsSelectedToEdit.filter(i=>i!==t):this.permissionsSelectedToEdit.push(t)}onPermissionChangeToCreate(t){this.permissionsSelectedToCreate.includes(t)?this.permissionsSelectedToCreate=this.permissionsSelectedToCreate.filter(i=>i!==t):this.permissionsSelectedToCreate.push(t)}deleteAll(){const t=this.itemsBulkDelete.map(n=>n.id);if(0===t.length)return this.messageService.add({severity:"error",summary:"Notififaci\xf3n",detail:"Debes seleccionar al menos un registro"});let i={ids:t};try{this.adminService.delete(`${this.API_URI}/roles/delete/`,this.token,i).subscribe(n=>(this.getPermissions(),this.getRoles(),this.messageService.add({severity:"success",summary:"Notificaci\xf3n",detail:"Eliminados correctamente"})))}catch(n){console.log(n)}this.itemsBulkDelete=[]}handleCloseFormCreateDialog(){this.displayFormCreate=!1,this.formCreate.reset()}handleCloseFormEditDialog(){this.displayFormUpdate=!1,this.permissionsSelectedToEdit=[]}handleCloseFormShowDialog(){this.displayFormDetail=!1}confirm(t,i){this.confirmationService.confirm({target:t.target,message:"\xbfSeguro que desea eliminar este Rol?",icon:"pi pi-exclamation-triangle",accept:()=>{try{this.adminService.delete(`${this.API_URI}/roles/delete/${i}/`,this.token).subscribe(n=>(this.getPermissions(),this.getRoles(),this.messageService.add({severity:"success",summary:"Notififaci\xf3n",detail:"Eliminado correctamente"})))}catch(n){return console.log(n),this.messageService.add({severity:"error",summary:"Notififaci\xf3n",detail:"Hubo un problema en la consulta"})}this.itemsBulkDelete=[]},reject:()=>{}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.QS),e.Y36(k.l),e.Y36(M.c),e.Y36(h.ez),e.Y36(h.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-permisos"]],decls:60,vars:62,consts:[["titulo","Roles y Permisos"],["card-body","",1,"grid"],[1,"col-12"],[3,"description","variant"],["pButton","","pRipple","","type","button","label","Crear rol","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","label","Eliminar seleccionados","icon","pi pi-trash",1,"p-button-danger","mr-2",3,"click"],["dataKey","id","styleClass","p-datatable-customers","responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} elementos","responsiveLayout","scroll",3,"value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Asignando Permisos",3,"visible","showHeader","modal","dismissableMask","visibleChange","onHide"],[3,"description"],[1,"mb-5",3,"formGroup"],[1,"flex","flex-column","gap-2","mb-3"],[1,"mb-2"],[1,"p-inputgroup","my-1"],[1,"p-inputgroup-addon"],[1,"pi","pi-bookmark-fill",2,"color","#f16357"],["type","text","formControlName","name","pInputText","",3,"maxlength","minlength"],[1,"grid"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12","flex","justify-content-center","align-items-center"],["pButton","","pRipple","","type","button","label","Guardar",1,"p-button-success","mx-5",3,"click"],["pButton","","pRipple","","type","button","label","Cancelar",1,"p-button-outlined","p-button-danger","mx-5",3,"click"],["header","Detalle Rol",3,"visible","showHeader","modal","dismissableMask","visibleChange","onHide"],["header","Actualizando Rol",3,"visible","showHeader","modal","dismissableMask","visibleChange","onHide"],["pButton","","pRipple","","type","button","label","Actualizar",1,"p-button-warning","mx-5",3,"click"],[1,"table-header"],[1,"col-12","md:col-6","lg:col-6"],[1,"col-12","md:col-6","lg:col-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Busqueda global",3,"input"],[2,"width","3rem"],[2,"width","5rem"],["pSortableColumn","name"],[1,"flex","justify-content-between","align-items-center"],["field","name"],["type","text","field","name","display","menu",1,"ml-auto"],[2,"width","8rem","text-align","center"],[1,"p-selectable-row"],[3,"value"],[1,"p-column-title"],[1,"flex","justify-content-center","align-items-center",2,"text-align","center"],["pButton","","type","button","icon","pi pi-eye","title","Detalles",1,"p-button-secondary","m-1",3,"click"],["pButton","","type"," button","icon","pi pi-pencil","title","Editar",1,"p-button-warning","m-1",3,"click"],["pButton","","type"," button","icon","pi pi-trash","title","Eliminar",1,"p-button-danger","m-1",3,"click"],["colspan","8"],["responsiveLayout","scroll",3,"value"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"disabled"],[4,"ngFor","ngForOf"],[3,"name","value","ngModel","ngModelChange","change"],["formControlName","permissions",3,"name","value"]],template:function(t,i){1&t&&(e.TgZ(0,"app-card",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-custom-info-card",3),e.TgZ(4,"div")(5,"button",4),e.NdJ("click",function(){return i.changeDisplayFormCreate()}),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.deleteAll()}),e.qZA()()(),e.TgZ(7,"div",2)(8,"p-card")(9,"p-table",6,7),e.NdJ("selectionChange",function(s){return i.itemsBulkDelete=s}),e.YNc(11,_e,8,12,"ng-template",8),e.YNc(12,ge,13,0,"ng-template",9),e.YNc(13,he,14,3,"ng-template",10),e.YNc(14,fe,3,0,"ng-template",11),e.qZA()()()()(),e.TgZ(15,"p-dialog",12),e.NdJ("visibleChange",function(s){return i.displayFormCreate=s})("onHide",function(){return i.handleCloseFormCreateDialog()}),e._UZ(16,"app-custom-info-card",13),e.TgZ(17,"form",14)(18,"div",15)(19,"label",16),e._uU(20,"Nombre del rol "),e.qZA(),e.TgZ(21,"div",17)(22,"span",18),e._UZ(23,"i",19),e.qZA(),e._UZ(24,"input",20),e.qZA()()(),e.TgZ(25,"div",21),e.YNc(26,xe,4,1,"div",22),e.TgZ(27,"div",23)(28,"button",24),e.NdJ("click",function(){return i.onSubmitFormCreate()}),e.qZA(),e.TgZ(29,"button",25),e.NdJ("click",function(){return i.handleCloseFormCreateDialog()}),e.qZA()()()(),e.TgZ(30,"p-dialog",26),e.NdJ("visibleChange",function(s){return i.displayFormDetail=s})("onHide",function(){return i.handleCloseFormShowDialog()}),e._UZ(31,"app-custom-info-card",13),e.TgZ(32,"form",14)(33,"div",15)(34,"label",16),e._uU(35,"Nombre del rol "),e.qZA(),e.TgZ(36,"div",17)(37,"span",18),e._UZ(38,"i",19),e.qZA(),e._UZ(39,"input",20),e.qZA()(),e.TgZ(40,"div",21),e.YNc(41,Je,4,1,"div",22),e.TgZ(42,"div",23)(43,"button",25),e.NdJ("click",function(){return i.handleCloseFormShowDialog()}),e.qZA()()()()(),e.TgZ(44,"p-dialog",27),e.NdJ("visibleChange",function(s){return i.displayFormUpdate=s})("onHide",function(){return i.handleCloseFormEditDialog()}),e._UZ(45,"app-custom-info-card",13),e.TgZ(46,"form",14)(47,"div",15)(48,"label",16),e._uU(49,"Nombre del rol "),e.qZA(),e.TgZ(50,"div",17)(51,"span",18),e._UZ(52,"i",19),e.qZA(),e._UZ(53,"input",20),e.qZA()()(),e.TgZ(54,"div",21),e.YNc(55,Se,4,1,"div",22),e.TgZ(56,"div",23)(57,"button",28),e.NdJ("click",function(){return i.onSubmitFormUpdate()}),e.qZA(),e.TgZ(58,"button",25),e.NdJ("click",function(){return i.handleCloseFormEditDialog()}),e.qZA()()()(),e._UZ(59,"p-toast")),2&t&&(e.xp6(3),e.Q6J("description",i.inforCardDescription)("variant",i.variantColor),e.xp6(6),e.Q6J("value",i.roles)("selection",i.itemsBulkDelete)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(51,Qe))("loading",i.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(52,Ee)),e.xp6(6),e.Akn(e.VKq(53,E,i.width)),e.Q6J("visible",i.displayFormCreate)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",i.inforCardDescriptionHeaderDialog),e.xp6(1),e.Q6J("formGroup",i.formCreate),e.xp6(2),e.Akn(e.DdM(55,$)),e.xp6(5),e.Q6J("maxlength",30)("minlength",6),e.xp6(2),e.Q6J("ngForOf",i.modules),e.xp6(4),e.Akn(e.VKq(56,E,i.width)),e.Q6J("visible",i.displayFormDetail)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",i.inforCardDescriptionHeaderDialog),e.xp6(1),e.Q6J("formGroup",i.formDetail),e.xp6(2),e.Akn(e.DdM(58,$)),e.xp6(5),e.Q6J("maxlength",30)("minlength",6),e.xp6(2),e.Q6J("ngForOf",i.modules),e.xp6(3),e.Akn(e.VKq(59,E,i.width)),e.Q6J("visible",i.displayFormUpdate)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",i.inforCardDescriptionHeaderDialog),e.xp6(1),e.Q6J("formGroup",i.formUpdate),e.xp6(2),e.Akn(e.DdM(61,$)),e.xp6(5),e.Q6J("maxlength",30)("minlength",6),e.xp6(2),e.Q6J("ngForOf",i.modules))},dependencies:[C.sg,C.O5,P.A,R.t,I.Z,h.jx,c.iA,c.lQ,c.fz,c.UA,c.Mo,c.xl,x.Hq,y.V,U.o,a._Y,a.Fj,a.JJ,a.JL,a.wO,a.nD,a.On,a.sg,a.u,D.FN,V.XZ,S.P,de],styles:["[_nghost-%COMP%]     .p-datatable-header{background-color:#f16357;border:1px solid #f16357}"]}),o})();var Ye=d(8625),Y=d(2210),W=d(585),ee=d(5722);const He=function(){return{display:"flex","justify-content":"space-between"}},Le=function(){return{"font-size":"20px"}},u=function(){return{width:"100%"}};function Be(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"div",18),e._uU(3," Lista de Usuarios Administrativos "),e.qZA(),e.TgZ(4,"div",51)(5,"span",52),e._UZ(6,"i",53),e.TgZ(7,"input",54),e.NdJ("input",function(n){e.CHM(t);const s=e.oxw(),l=e.MAs(11);return e.KtG(l.filterGlobal(s.getEventValue(n),"contains"))}),e.qZA()()()()()}2&o&&(e.xp6(1),e.Akn(e.DdM(8,He)),e.xp6(1),e.Akn(e.DdM(9,Le)),e.xp6(3),e.Akn(e.DdM(10,u)),e.xp6(2),e.Akn(e.DdM(11,u)))}function Oe(o,r){1&o&&(e.TgZ(0,"tr")(1,"th",55),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",56)(4,"p"),e._uU(5,"Indice"),e.qZA()(),e.TgZ(6,"th",57)(7,"div",58),e._uU(8," Nombres "),e._UZ(9,"p-sortIcon",59)(10,"p-columnFilter",60),e.qZA()(),e.TgZ(11,"th",61)(12,"div",58),e._uU(13," Apelliddos "),e._UZ(14,"p-sortIcon",62)(15,"p-columnFilter",63),e.qZA()(),e.TgZ(16,"th",64)(17,"div",58),e._uU(18," Correo electronico "),e._UZ(19,"p-sortIcon",65)(20,"p-columnFilter",66),e.qZA()(),e.TgZ(21,"th",67),e._uU(22," Acciones "),e.qZA()())}function Ge(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",68)(1,"td"),e._UZ(2,"p-tableCheckbox",69),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"span",70),e._uU(7,"Nombre"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"span",70),e._uU(11,"Nombre"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"span",70),e._uU(15,"Nombre"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"td",71)(18,"button",72),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.changeDisplayFormDetail(s))}),e.qZA(),e.TgZ(19,"button",73),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.changeDisplayFormUpdate(s))}),e.qZA(),e._UZ(20,"button",74),e.qZA()()}if(2&o){const t=r.$implicit,i=r.rowIndex;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.hij(" ",i+1," "),e.xp6(4),e.hij(" ",t.persona.name," "),e.xp6(4),e.hij(" ",t.persona.surname," "),e.xp6(4),e.hij(" ",t.email," ")}}function je(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",75),e._uU(2,"No hay datos que mostrar"),e.qZA()())}function Ke(o,r){if(1&o&&(e.TgZ(0,"div",77)(1,"div"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedCountry.name)}}function ze(o,r){if(1&o&&e.YNc(0,Ke,3,1,"div",76),2&o){const t=e.oxw();e.Q6J("ngIf",t.selectedCountry)}}function Ve(o,r){if(1&o&&(e.TgZ(0,"div",78)(1,"div"),e._uU(2),e.qZA()()),2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.name)}}function Xe(o,r){if(1&o&&(e.TgZ(0,"div",77)(1,"div"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedCountry.name)}}function We(o,r){if(1&o&&e.YNc(0,Xe,3,1,"div",76),2&o){const t=e.oxw();e.Q6J("ngIf",t.selectedCountry)}}function et(o,r){if(1&o&&(e.TgZ(0,"div",78)(1,"div"),e._uU(2),e.qZA()()),2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.name)}}function tt(o,r){if(1&o&&(e.TgZ(0,"div",77)(1,"div"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedCountry.name)}}function it(o,r){if(1&o&&e.YNc(0,tt,3,1,"div",76),2&o){const t=e.oxw();e.Q6J("ngIf",t.selectedCountry)}}function ot(o,r){if(1&o&&(e.TgZ(0,"div",78)(1,"div"),e._uU(2),e.qZA()()),2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.name)}}const nt=function(){return[10,25,50]},st=function(){return["name","surname","email"]},J=function(o){return{width:o,"text-aling":"center"}},p=function(){return{"font-weight":"bold"}};let rt=(()=>{class o{constructor(t,i,n,s){this.fb=t,this.adminService=i,this.pantallaService=n,this.messageService=s,this.API_URI=q.N.API_URI,this.width="",this.itemsBulkDelete=[],this.paises=[],this.modules=[],this.loading=!1,this.idUserEdit=null,this.displayFormCreate=!1,this.displayFormUpdate=!1,this.displayFormDetail=!1,this.displayFormAssign=!1,this.displayTest=!1,this.gender_type=[],this.document_type=[],this.users=[],this.roles=[],this.inforCardDescription="\n    \xa1Te damos la bienvenida a nuestro destacado m\xf3dulo de gesti\xf3n de roles y usuarios! En este espacio\n    especializado, podr\xe1s crear roles a medida, incorporar nuevos usuarios y asignar roles de manera\n    sencilla. Dise\xf1a la estructura que mejor se adapte a tus necesidades, dando forma a una experiencia de\n    usuario \xfanica y personalizada.\n  ",this.inforCardDescriptionDialogUser="\n  El m\xf3dulo de Usuarios - Administrativos facilita el registro y gesti\xf3n de usuarios con roles administrativos en nuestra plataforma. Dise\xf1ado exclusivamente para aquellos que desempe\xf1ar\xe1n funciones de trabajo y administraci\xf3n en la aplicaci\xf3n, este m\xf3dulo permite crear perfiles de usuarios con privilegios espec\xedficos. Los administrativos tendr\xe1n acceso a funciones clave del sistema, contribuyendo a la eficiencia y efectividad en la operaci\xf3n interna. \n  ",this.inforCardDescriptionDialogAssing="\n    La asignaci\xf3n de roles es esencial en la gesti\xf3n de sistemas, ofreciendo beneficios clave como seguridad,\n    organizaci\xf3n, cumplimiento normativo, eficiencia y transparencia en la responsabilidad. Al definir roles\n    espec\xedficos, se controla el acceso, se optimiza la eficiencia operativa, se cumple con normativas y se facilita\n    la adaptabilidad a medida que evolucionan las necesidades de la organizaci\xf3n. En \xfaltima instancia, la asignaci\xf3n\n    de roles proporciona un marco estructurado para administrar el acceso a recursos y datos, asegurando un entorno\n    de trabajo organizado y seguro.\n  ",this.formCreate=this.fb.group({password:["",[a.kI.required,a.kI.maxLength(50)]],email:["",[a.kI.required,a.kI.maxLength(50),a.kI.email]],name:["",[a.kI.required,a.kI.maxLength(100)]],surname:["",[a.kI.required,a.kI.maxLength(100)]],identification:["",a.kI.maxLength(30)],address:["",a.kI.maxLength(40)],nationality:[""],date_of_birth:[""],phone:["",a.kI.maxLength(11)],document_type:[""],gender_type:[""]}),this.formUpdate=this.fb.group({password:["",[a.kI.required,a.kI.maxLength(50)]],email:["",[a.kI.required,a.kI.maxLength(50),a.kI.email]],name:["",[a.kI.required,a.kI.maxLength(100)]],surname:["",[a.kI.required,a.kI.maxLength(100)]],identification:["",a.kI.maxLength(30)],address:["",a.kI.maxLength(40)],nationality:[""],date_of_birth:[""],phone:["",a.kI.maxLength(11)],document_type:[""],gender_type:[""]}),this.formDetail=this.fb.group({password:[{value:"",disabled:!0}],email:[{value:"",disabled:!0}],name:[{value:"",disabled:!0}],surname:[{value:"",disabled:!0}],identification:[{value:"",disabled:!0}],address:[{value:"",disabled:!0}],nationality:[{value:"",disabled:!0}],date_of_birth:[{value:"",disabled:!0}],phone:[{value:"",disabled:!0}],document_type:[{value:"",disabled:!0}],gender_type:[{value:"",disabled:!0}]}),this.formAssing=this.fb.group({user:["",[a.kI.required,a.kI.maxLength(50)]],roles:["",[a.kI.required,a.kI.maxLength(50)]]}),this.variantColor=w.$.Blue,this.paises=Ye.p}ngOnInit(){const[t]=this.pantallaService.calcularEspacioPantalla();this.subscription$=t.subscribe(i=>this.width=i),this.token=localStorage.getItem("token"),this.getGendersType(),this.getDocumentsType(),this.getUsers(),this.getRoles()}getEventValue(t){return t.target.value}changeDisplayFormCreate(){this.displayFormCreate=!this.displayFormCreate}changeDisplayFormUpdate(t){if(null!==t){this.idUserEdit=t.id;const{email:i,persona:n}=t,{name:s,surname:l,identification:m,address:_,nationality:f,phone:b,gender:v,document:A,date_of_birth:Z}=n;let T=new Date(`${Z}T00:00:00`),g={email:i,name:s,surname:l,identification:m,address:_,nationality:JSON.parse(f),date_of_birth:T,phone:b,gender_type:v,document_type:A};console.log(g),this.formUpdate.patchValue(g)}this.displayFormUpdate=!this.displayFormUpdate}changeDisplayFormDetail(t){if(null!==t){const{email:i,persona:n}=t,{name:s,surname:l,identification:m,address:_,nationality:f,phone:b,gender:v,document:A,date_of_birth:Z}=n;let T=new Date(`${Z}T00:00:00`),g={email:i,name:s,surname:l,identification:m,address:_,nationality:JSON.parse(f),date_of_birth:T,phone:b,gender_type:v,document_type:A};this.formDetail.patchValue(g)}this.displayFormDetail=!this.displayFormDetail}changeDisplayFormAssing(){this.displayFormAssign=!this.displayFormAssign}getGendersType(){this.adminService.get(`${this.API_URI}/genders`,this.token).subscribe(t=>{this.gender_type=t.data})}getDocumentsType(){this.adminService.get(`${this.API_URI}/documents/`,this.token).subscribe(t=>{this.document_type=t.data})}getUsers(){this.adminService.get(`${this.API_URI}/users/internal/`,this.token).subscribe(t=>{this.users=t.data})}getRoles(){this.adminService.get(`${this.API_URI}/roles/`,this.token).subscribe(t=>{this.roles=t.data})}handleCloseFormCreateDialog(){this.displayFormCreate=!1,this.formCreate.reset()}handleCloseFormAssingDialog(){this.displayFormAssign=!1}deleteAll(){const t=this.itemsBulkDelete.map(n=>n.id);if(0===t.length)return this.messageService.add({severity:"error",summary:"Notififaci\xf3n",detail:"Debes seleccionar al menos un registro"});console.log({ids:t}),this.itemsBulkDelete=[]}onSubmitFormCreate(){const{password:t,email:i,name:n,surname:s,identification:l,address:m,date_of_birth:_,phone:f,document_type:b,gender_type:v,nationality:A}=this.formCreate.value;let Z="";if(0!==_.length){const g=_.getDate(),H=_.getMonth()+1;Z=`${_.getFullYear()}-${H}-${g}`}let T={username:i.split("@").shift(),password:t,email:i,persona:{name:n,surname:s,identification:l,address:m,nationality:JSON.stringify(A),date_of_birth:Z,phone:f,document_type:b.id,gender_type:v.id}};try{this.adminService.post(`${this.API_URI}/auth/register/`,T,this.token).subscribe(g=>{this.messageService.add({severity:"success",summary:"Notificaci\xf3n",detail:"Creado correctamente"}),this.getUsers(),this.formCreate.reset(),this.displayFormCreate=!1})}catch(g){console.log(g)}}onSubmitFormAssing(){const{user:t,roles:i}=this.formAssing.value,n=i.map(l=>l.id);let s={user:t.id,roles:n};try{this.adminService.post(`${this.API_URI}/security/create/roles/user/`,s,this.token).subscribe(l=>{this.messageService.add({severity:"success",summary:"Notificaci\xf3n",detail:"Asignado correctamente"}),this.getUsers(),this.getRoles(),this.formAssing.reset(),this.displayFormAssign=!1})}catch(l){console.log(l)}}onChangeUsers(t){this.formAssing.patchValue({roles:t.groups})}onSubmitFormUpdadte(){const{password:t,email:i,name:n,surname:s,identification:l,address:m,date_of_birth:_,phone:f,document_type:b,gender_type:v,nationality:A}=this.formUpdate.value;let Z="";if(0!==_.length){const g=_.getDate(),H=_.getMonth()+1;Z=`${_.getFullYear()}-${H}-${g}`}let T={username:i.split("@").shift(),password:t,email:i,persona:{name:n,surname:s,identification:l,address:m,nationality:JSON.stringify(A),date_of_birth:Z,phone:f,document_type:b.id,gender_type:v.id}};try{this.adminService.put(`${this.API_URI}/users/update/${this.idUserEdit}`,T,this.token).subscribe(g=>{this.messageService.add({severity:"success",summary:"Notificaci\xf3n",detail:"Actualizado correctamente"}),this.getUsers(),this.formUpdate.reset(),this.displayFormUpdate=!1})}catch(g){console.log(g)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.QS),e.Y36(k.l),e.Y36(M.c),e.Y36(h.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-usuarios"]],decls:358,vars:244,consts:[["titulo","Roles y Usuarios"],["card-body","",1,"grid"],[1,"col-12"],[3,"description","variant"],["pButton","","pRipple","","type","button","label","Crear Nuevo","icon","pi pi-plus",1,"p-button-success","mx-2",3,"click"],["pButton","","pRipple","","type","button","label","Asignar roles","icon","pi pi-user-plus",1,"p-button-primary","mx-2",3,"click"],["pButton","","pRipple","","type","button","label","Eliminar seleccionados","icon","pi pi-trash",1,"p-button-danger","mx-2",3,"click"],["dataKey","id","styleClass","p-datatable-customers","responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} elementos","responsiveLayout","scroll",3,"value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Creando Usuario",3,"visible","showHeader","modal","dismissableMask","visibleChange","onHide"],[3,"description"],[3,"formGroup"],[1,"grid","p-5","shadow-3",2,"background-color","#f5f5f58e"],[1,"customText"],[1,"col-12","md:col-6","lg:col-6"],[1,"flex","flex-column","gap-2"],[1,"mb-2"],[1,"p-inputgroup","my-1"],[1,"p-inputgroup-addon"],[1,"pi","pi-bookmark-fill",2,"color","#f16357"],["type","email","placeholder","Usuario@ejemplo.com","formControlName","email","pInputText","",3,"maxlength"],["type","password","placeholder","********","formControlName","password","pInputText","",3,"maxlength"],[1,"grid","mt-5","p-5","shadow-3",2,"background-color","#f5f5f58c"],[1,"col-12","md:col-6","lg:col-4"],["type","text","formControlName","name","pInputText","",3,"maxlength"],["type","text","formControlName","surname","pInputText","",3,"maxlength"],["placeholder","Selecciona una opcion","formControlName","document_type","optionLabel","name",3,"options"],["type","number","formControlName","identification","pInputText","",3,"maxlength"],["type","text","formControlName","address","pInputText","",3,"maxlength"],[1,"pi","pi-bookmark-fill"],["formControlName","nationality","optionLabel","name","filterBy","name","placeholder","Selecciona un pais",3,"options","filter","showClear","maxlength"],["pTemplate","selectedCountry"],["pTemplate","item"],["placeholder","Seleccione la fecha","formControlName","date_of_birth","dateFormat","mm-dd-yy","inputId","dateformat"],["type","number","placeholder","(000)000-0000","formControlName","phone","pInputText","",3,"maxlength"],["placeholder","Selecciona una opcion","formControlName","gender_type","optionLabel","name",3,"options"],[1,"col-12","flex","justify-content-center","align-items-center"],["pButton","","pRipple","","type","submit","label","Guardar","icon","pi pi-save",1,"p-button-success","mx-5",3,"disabled","click"],["pButton","","pRipple","","type","button","label","Cancelar",1,"p-button-outlined","p-button-danger","mx-5",3,"click"],["header","Asignando Roles",3,"visible","showHeader","modal","dismissableMask","visibleChange","onHide"],["formControlName","user","placeholder","Selecciona una opci\xf3n","optionLabel","persona.name",3,"options","onChange"],["formControlName","roles","optionLabel","name","placeholder","Selecciona una opci\xf3n",3,"options"],["header","Detalles Usuario",3,"visible","showHeader","modal","dismissableMask","visibleChange"],["header","Editando Usuario",3,"visible","showHeader","modal","dismissableMask","visibleChange"],["pButton","","pRipple","","type","button","label","Actualizar",1,"p-button","p-button-warning","mx-5",3,"click"],[1,"table-header"],[1,"grid"],[1,"col-12","md:col-6","lg:col-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Busqueda global",3,"input"],[2,"width","3rem"],[2,"width","5rem"],["pSortableColumn","name"],[1,"flex","justify-content-between","align-items-center"],["field","name"],["type","text","field","name","display","menu",1,"ml-auto"],["pSortableColumn","surname"],["field","surname"],["type","text","field","surname","display","menu",1,"ml-auto"],["pSortableColumn","email"],["field","email"],["type","text","field","email","display","menu",1,"ml-auto"],[2,"width","8rem","text-align","center"],[1,"p-selectable-row"],[3,"value"],[1,"p-column-title"],[1,"flex","justify-content-center","align-items-center",2,"text-align","center"],["pButton","","type","button","icon","pi pi-eye","title","Detalles",1,"p-button-secondary","m-1",3,"click"],["pButton","","type"," button","icon","pi pi-pencil","title","Editar",1,"p-button-warning","m-1",3,"click"],["pButton","","type"," button","icon","pi pi-trash","title","Eliminar",1,"p-button-danger","m-1"],["colspan","8"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"country-item"]],template:function(t,i){1&t&&(e.TgZ(0,"app-card",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-custom-info-card",3),e.TgZ(4,"div")(5,"button",4),e.NdJ("click",function(){return i.changeDisplayFormCreate()}),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.changeDisplayFormAssing()}),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return i.deleteAll()}),e.qZA()()(),e.TgZ(8,"div",2)(9,"p-card")(10,"p-table",7,8),e.NdJ("selectionChange",function(s){return i.itemsBulkDelete=s}),e.YNc(12,Be,8,12,"ng-template",9),e.YNc(13,Oe,23,0,"ng-template",10),e.YNc(14,Ge,21,5,"ng-template",11),e.YNc(15,je,3,0,"ng-template",12),e.qZA()()()()(),e.TgZ(16,"p-dialog",13),e.NdJ("visibleChange",function(s){return i.displayFormCreate=s})("onHide",function(){return i.handleCloseFormCreateDialog()}),e._UZ(17,"app-custom-info-card",14),e.TgZ(18,"form",15)(19,"div",2)(20,"div",16)(21,"div",2)(22,"span",17),e._uU(23,"Credenciales de Acceso"),e.qZA()(),e.TgZ(24,"div",18)(25,"div",19)(26,"label",20),e._uU(27,"Correo electronico "),e.qZA(),e.TgZ(28,"div",21)(29,"span",22),e._UZ(30,"i",23),e.qZA(),e._UZ(31,"input",24),e.qZA()()(),e.TgZ(32,"div",18)(33,"div",19)(34,"label",20),e._uU(35,"Contrase\xf1a "),e.qZA(),e.TgZ(36,"div",21)(37,"span",22),e._UZ(38,"i",23),e.qZA(),e._UZ(39,"input",25),e.qZA()()()(),e.TgZ(40,"div",26)(41,"div",2)(42,"span",17),e._uU(43,"Datos Personales"),e.qZA()(),e.TgZ(44,"div",27)(45,"div",19)(46,"label",20),e._uU(47,"Nombres "),e.qZA(),e.TgZ(48,"div",21)(49,"span",22),e._UZ(50,"i",23),e.qZA(),e._UZ(51,"input",28),e.qZA()()(),e.TgZ(52,"div",27)(53,"div",19)(54,"label",20),e._uU(55,"Apellidos "),e.qZA(),e.TgZ(56,"div",21)(57,"span",22),e._UZ(58,"i",23),e.qZA(),e._UZ(59,"input",29),e.qZA()()(),e.TgZ(60,"div",27)(61,"div",19)(62,"label",20),e._uU(63,"Tipo de Identificai\xf3n "),e.qZA(),e.TgZ(64,"div",21)(65,"span",22),e._UZ(66,"i",23),e.qZA(),e._UZ(67,"p-dropdown",30),e.qZA()()(),e.TgZ(68,"div",27)(69,"div",19)(70,"label",20),e._uU(71,"N\xfamero de Identificaci\xf3n "),e.qZA(),e.TgZ(72,"div",21)(73,"span",22),e._UZ(74,"i",23),e.qZA(),e._UZ(75,"input",31),e.qZA()()(),e.TgZ(76,"div",27)(77,"div",19)(78,"label",20),e._uU(79,"Direcci\xf3n "),e.qZA(),e.TgZ(80,"div",21)(81,"span",22),e._UZ(82,"i",23),e.qZA(),e._UZ(83,"input",32),e.qZA()()(),e.TgZ(84,"div",27)(85,"div",19)(86,"label",20),e._uU(87,"Nacionalidad "),e.qZA(),e.TgZ(88,"div",21)(89,"span",22),e._UZ(90,"i",33),e.qZA(),e.TgZ(91,"p-dropdown",34),e.YNc(92,ze,1,1,"ng-template",35),e.YNc(93,Ve,3,1,"ng-template",36),e.qZA()()()(),e.TgZ(94,"div",27)(95,"div",19)(96,"label",20),e._uU(97,"Fecha de Nacimiento "),e.qZA(),e.TgZ(98,"div",21)(99,"span",22),e._UZ(100,"i",23),e.qZA(),e._UZ(101,"p-calendar",37),e.qZA()()(),e.TgZ(102,"div",27)(103,"div",19)(104,"label",20),e._uU(105,"Telefono "),e.qZA(),e.TgZ(106,"div",21)(107,"span",22),e._UZ(108,"i",23),e.qZA(),e._UZ(109,"input",38),e.qZA()()(),e.TgZ(110,"div",27)(111,"div",19)(112,"label",20),e._uU(113,"Genero "),e.qZA(),e.TgZ(114,"div",21)(115,"span",22),e._UZ(116,"i",23),e.qZA(),e._UZ(117,"p-dropdown",39),e.qZA()()()()(),e.TgZ(118,"div",40)(119,"button",41),e.NdJ("click",function(){return i.onSubmitFormCreate()}),e.qZA(),e.TgZ(120,"button",42),e.NdJ("click",function(){return i.handleCloseFormCreateDialog()}),e.qZA()()()(),e.TgZ(121,"p-dialog",43),e.NdJ("visibleChange",function(s){return i.displayFormAssign=s})("onHide",function(){return i.handleCloseFormAssingDialog()}),e._UZ(122,"app-custom-info-card",14),e.TgZ(123,"form",15)(124,"div",2)(125,"div",16)(126,"div",2)(127,"span",17),e._uU(128,"Asignaci\xf3n de Roles"),e.qZA()(),e.TgZ(129,"div",18)(130,"div",19)(131,"label",20),e._uU(132,"Usuario"),e.qZA(),e.TgZ(133,"div",21)(134,"span",22),e._UZ(135,"i",23),e.qZA(),e.TgZ(136,"p-dropdown",44),e.NdJ("onChange",function(s){return i.onChangeUsers(s.value)}),e.qZA()()()(),e.TgZ(137,"div",18)(138,"div",19)(139,"label",20),e._uU(140,"Roles "),e.qZA(),e.TgZ(141,"div",21)(142,"span",22),e._UZ(143,"i",23),e.qZA(),e._UZ(144,"p-multiSelect",45),e.qZA()()()()(),e.TgZ(145,"div",40)(146,"button",41),e.NdJ("click",function(){return i.onSubmitFormAssing()}),e.qZA(),e.TgZ(147,"button",42),e.NdJ("click",function(){return i.handleCloseFormAssingDialog()}),e.qZA()()()(),e.TgZ(148,"p-dialog",46),e.NdJ("visibleChange",function(s){return i.displayFormDetail=s}),e._UZ(149,"app-custom-info-card",14),e.TgZ(150,"form",15)(151,"div",2)(152,"div",16)(153,"div",2)(154,"span",17),e._uU(155,"Credenciales de Acceso"),e.qZA()(),e.TgZ(156,"div",18)(157,"div",19)(158,"label",20),e._uU(159,"Correo electronico "),e.qZA(),e.TgZ(160,"div",21)(161,"span",22),e._UZ(162,"i",23),e.qZA(),e._UZ(163,"input",24),e.qZA()()(),e.TgZ(164,"div",18)(165,"div",19)(166,"label",20),e._uU(167,"Contrase\xf1a "),e.qZA(),e.TgZ(168,"div",21)(169,"span",22),e._UZ(170,"i",23),e.qZA(),e._UZ(171,"input",25),e.qZA()()()(),e.TgZ(172,"div",26)(173,"div",2)(174,"span",17),e._uU(175,"Datos Personales"),e.qZA()(),e.TgZ(176,"div",27)(177,"div",19)(178,"label",20),e._uU(179,"Nombres "),e.qZA(),e.TgZ(180,"div",21)(181,"span",22),e._UZ(182,"i",23),e.qZA(),e._UZ(183,"input",28),e.qZA()()(),e.TgZ(184,"div",27)(185,"div",19)(186,"label",20),e._uU(187,"Apellidos "),e.qZA(),e.TgZ(188,"div",21)(189,"span",22),e._UZ(190,"i",23),e.qZA(),e._UZ(191,"input",29),e.qZA()()(),e.TgZ(192,"div",27)(193,"div",19)(194,"label",20),e._uU(195,"Tipo de Identificai\xf3n "),e.qZA(),e.TgZ(196,"div",21)(197,"span",22),e._UZ(198,"i",23),e.qZA(),e._UZ(199,"p-dropdown",30),e.qZA()()(),e.TgZ(200,"div",27)(201,"div",19)(202,"label",20),e._uU(203,"N\xfamero de Identificaci\xf3n "),e.qZA(),e.TgZ(204,"div",21)(205,"span",22),e._UZ(206,"i",23),e.qZA(),e._UZ(207,"input",31),e.qZA()()(),e.TgZ(208,"div",27)(209,"div",19)(210,"label",20),e._uU(211,"Direcci\xf3n "),e.qZA(),e.TgZ(212,"div",21)(213,"span",22),e._UZ(214,"i",23),e.qZA(),e._UZ(215,"input",32),e.qZA()()(),e.TgZ(216,"div",27)(217,"div",19)(218,"label",20),e._uU(219,"Nacionalidad "),e.qZA(),e.TgZ(220,"div",21)(221,"span",22),e._UZ(222,"i",33),e.qZA(),e.TgZ(223,"p-dropdown",34),e.YNc(224,We,1,1,"ng-template",35),e.YNc(225,et,3,1,"ng-template",36),e.qZA()()()(),e.TgZ(226,"div",27)(227,"div",19)(228,"label",20),e._uU(229,"Fecha de Nacimiento "),e.qZA(),e.TgZ(230,"div",21)(231,"span",22),e._UZ(232,"i",23),e.qZA(),e._UZ(233,"p-calendar",37),e.qZA()()(),e.TgZ(234,"div",27)(235,"div",19)(236,"label",20),e._uU(237,"Telefono "),e.qZA(),e.TgZ(238,"div",21)(239,"span",22),e._UZ(240,"i",23),e.qZA(),e._UZ(241,"input",38),e.qZA()()(),e.TgZ(242,"div",27)(243,"div",19)(244,"label",20),e._uU(245,"Genero "),e.qZA(),e.TgZ(246,"div",21)(247,"span",22),e._UZ(248,"i",23),e.qZA(),e._UZ(249,"p-dropdown",39),e.qZA()()()()(),e.TgZ(250,"div",40)(251,"button",42),e.NdJ("click",function(){return i.changeDisplayFormDetail(null)}),e.qZA()()()(),e.TgZ(252,"p-dialog",47),e.NdJ("visibleChange",function(s){return i.displayFormUpdate=s}),e._UZ(253,"app-custom-info-card",14),e.TgZ(254,"form",15)(255,"div",2)(256,"div",16)(257,"div",2)(258,"span",17),e._uU(259,"Credenciales de Acceso"),e.qZA()(),e.TgZ(260,"div",18)(261,"div",19)(262,"label",20),e._uU(263,"Correo electronico "),e.qZA(),e.TgZ(264,"div",21)(265,"span",22),e._UZ(266,"i",23),e.qZA(),e._UZ(267,"input",24),e.qZA()()(),e.TgZ(268,"div",18)(269,"div",19)(270,"label",20),e._uU(271,"Contrase\xf1a "),e.qZA(),e.TgZ(272,"div",21)(273,"span",22),e._UZ(274,"i",23),e.qZA(),e._UZ(275,"input",25),e.qZA()()()(),e.TgZ(276,"div",26)(277,"div",2)(278,"span",17),e._uU(279,"Datos Personales"),e.qZA()(),e.TgZ(280,"div",27)(281,"div",19)(282,"label",20),e._uU(283,"Nombres "),e.qZA(),e.TgZ(284,"div",21)(285,"span",22),e._UZ(286,"i",23),e.qZA(),e._UZ(287,"input",28),e.qZA()()(),e.TgZ(288,"div",27)(289,"div",19)(290,"label",20),e._uU(291,"Apellidos "),e.qZA(),e.TgZ(292,"div",21)(293,"span",22),e._UZ(294,"i",23),e.qZA(),e._UZ(295,"input",29),e.qZA()()(),e.TgZ(296,"div",27)(297,"div",19)(298,"label",20),e._uU(299,"Tipo de Identificai\xf3n "),e.qZA(),e.TgZ(300,"div",21)(301,"span",22),e._UZ(302,"i",23),e.qZA(),e._UZ(303,"p-dropdown",30),e.qZA()()(),e.TgZ(304,"div",27)(305,"div",19)(306,"label",20),e._uU(307,"N\xfamero de Identificaci\xf3n "),e.qZA(),e.TgZ(308,"div",21)(309,"span",22),e._UZ(310,"i",23),e.qZA(),e._UZ(311,"input",31),e.qZA()()(),e.TgZ(312,"div",27)(313,"div",19)(314,"label",20),e._uU(315,"Direcci\xf3n "),e.qZA(),e.TgZ(316,"div",21)(317,"span",22),e._UZ(318,"i",23),e.qZA(),e._UZ(319,"input",32),e.qZA()()(),e.TgZ(320,"div",27)(321,"div",19)(322,"label",20),e._uU(323,"Nacionalidad "),e.qZA(),e.TgZ(324,"div",21)(325,"span",22),e._UZ(326,"i",33),e.qZA(),e.TgZ(327,"p-dropdown",34),e.YNc(328,it,1,1,"ng-template",35),e.YNc(329,ot,3,1,"ng-template",36),e.qZA()()()(),e.TgZ(330,"div",27)(331,"div",19)(332,"label",20),e._uU(333,"Fecha de Nacimiento "),e.qZA(),e.TgZ(334,"div",21)(335,"span",22),e._UZ(336,"i",23),e.qZA(),e._UZ(337,"p-calendar",37),e.qZA()()(),e.TgZ(338,"div",27)(339,"div",19)(340,"label",20),e._uU(341,"Telefono "),e.qZA(),e.TgZ(342,"div",21)(343,"span",22),e._UZ(344,"i",23),e.qZA(),e._UZ(345,"input",38),e.qZA()()(),e.TgZ(346,"div",27)(347,"div",19)(348,"label",20),e._uU(349,"Genero "),e.qZA(),e.TgZ(350,"div",21)(351,"span",22),e._UZ(352,"i",23),e.qZA(),e._UZ(353,"p-dropdown",39),e.qZA()()()()(),e.TgZ(354,"div",40)(355,"button",48),e.NdJ("click",function(){return i.onSubmitFormUpdadte()}),e.qZA(),e.TgZ(356,"button",42),e.NdJ("click",function(){return i.changeDisplayFormDetail(null)}),e.qZA()()()(),e._UZ(357,"p-toast")),2&t&&(e.xp6(3),e.Q6J("description",i.inforCardDescription)("variant",i.variantColor),e.xp6(7),e.Q6J("value",i.users)("selection",i.itemsBulkDelete)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(185,nt))("loading",i.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(186,st)),e.xp6(6),e.Akn(e.VKq(187,J,i.width)),e.Q6J("visible",i.displayFormCreate)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",i.inforCardDescriptionDialogUser),e.xp6(1),e.Q6J("formGroup",i.formCreate),e.xp6(8),e.Akn(e.DdM(189,p)),e.xp6(5),e.Q6J("maxlength",50),e.xp6(3),e.Akn(e.DdM(190,p)),e.xp6(5),e.Q6J("maxlength",50),e.xp6(7),e.Akn(e.DdM(191,p)),e.xp6(5),e.Q6J("maxlength",100),e.xp6(3),e.Akn(e.DdM(192,p)),e.xp6(5),e.Q6J("maxlength",100),e.xp6(3),e.Akn(e.DdM(193,p)),e.xp6(5),e.Akn(e.DdM(194,u)),e.Q6J("options",i.document_type),e.xp6(3),e.Akn(e.DdM(195,p)),e.xp6(5),e.Q6J("maxlength",30),e.xp6(3),e.Akn(e.DdM(196,p)),e.xp6(5),e.Q6J("maxlength",40),e.xp6(3),e.Akn(e.DdM(197,p)),e.xp6(5),e.Akn(e.DdM(198,u)),e.Q6J("options",i.paises)("filter",!0)("showClear",!0)("maxlength",100),e.xp6(5),e.Akn(e.DdM(199,p)),e.xp6(5),e.Akn(e.DdM(200,u)),e.xp6(3),e.Akn(e.DdM(201,p)),e.xp6(5),e.Q6J("maxlength",11),e.xp6(3),e.Akn(e.DdM(202,p)),e.xp6(5),e.Akn(e.DdM(203,u)),e.Q6J("options",i.gender_type),e.xp6(2),e.Q6J("disabled",!i.formCreate.valid),e.xp6(2),e.Akn(e.VKq(204,J,i.width)),e.Q6J("visible",i.displayFormAssign)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",i.inforCardDescriptionDialogAssing),e.xp6(1),e.Q6J("formGroup",i.formAssing),e.xp6(8),e.Akn(e.DdM(206,p)),e.xp6(5),e.Akn(e.DdM(207,u)),e.Q6J("options",i.users),e.xp6(3),e.Akn(e.DdM(208,p)),e.xp6(5),e.Akn(e.DdM(209,u)),e.Q6J("options",i.roles),e.xp6(2),e.Q6J("disabled",!i.formAssing.valid),e.xp6(2),e.Akn(e.VKq(210,J,i.width)),e.Q6J("visible",i.displayFormDetail)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",i.inforCardDescriptionDialogUser),e.xp6(1),e.Q6J("formGroup",i.formDetail),e.xp6(8),e.Akn(e.DdM(212,p)),e.xp6(5),e.Q6J("maxlength",50),e.xp6(3),e.Akn(e.DdM(213,p)),e.xp6(5),e.Q6J("maxlength",50),e.xp6(7),e.Akn(e.DdM(214,p)),e.xp6(5),e.Q6J("maxlength",100),e.xp6(3),e.Akn(e.DdM(215,p)),e.xp6(5),e.Q6J("maxlength",100),e.xp6(3),e.Akn(e.DdM(216,p)),e.xp6(5),e.Akn(e.DdM(217,u)),e.Q6J("options",i.document_type),e.xp6(3),e.Akn(e.DdM(218,p)),e.xp6(5),e.Q6J("maxlength",30),e.xp6(3),e.Akn(e.DdM(219,p)),e.xp6(5),e.Q6J("maxlength",40),e.xp6(3),e.Akn(e.DdM(220,p)),e.xp6(5),e.Akn(e.DdM(221,u)),e.Q6J("options",i.paises)("filter",!0)("showClear",!0)("maxlength",100),e.xp6(5),e.Akn(e.DdM(222,p)),e.xp6(5),e.Akn(e.DdM(223,u)),e.xp6(3),e.Akn(e.DdM(224,p)),e.xp6(5),e.Q6J("maxlength",11),e.xp6(3),e.Akn(e.DdM(225,p)),e.xp6(5),e.Akn(e.DdM(226,u)),e.Q6J("options",i.gender_type),e.xp6(3),e.Akn(e.VKq(227,J,i.width)),e.Q6J("visible",i.displayFormUpdate)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",i.inforCardDescriptionDialogUser),e.xp6(1),e.Q6J("formGroup",i.formUpdate),e.xp6(8),e.Akn(e.DdM(229,p)),e.xp6(5),e.Q6J("maxlength",50),e.xp6(3),e.Akn(e.DdM(230,p)),e.xp6(5),e.Q6J("maxlength",50),e.xp6(7),e.Akn(e.DdM(231,p)),e.xp6(5),e.Q6J("maxlength",100),e.xp6(3),e.Akn(e.DdM(232,p)),e.xp6(5),e.Q6J("maxlength",100),e.xp6(3),e.Akn(e.DdM(233,p)),e.xp6(5),e.Akn(e.DdM(234,u)),e.Q6J("options",i.document_type),e.xp6(3),e.Akn(e.DdM(235,p)),e.xp6(5),e.Q6J("maxlength",30),e.xp6(3),e.Akn(e.DdM(236,p)),e.xp6(5),e.Q6J("maxlength",40),e.xp6(3),e.Akn(e.DdM(237,p)),e.xp6(5),e.Akn(e.DdM(238,u)),e.Q6J("options",i.paises)("filter",!0)("showClear",!0)("maxlength",100),e.xp6(5),e.Akn(e.DdM(239,p)),e.xp6(5),e.Akn(e.DdM(240,u)),e.xp6(3),e.Akn(e.DdM(241,p)),e.xp6(5),e.Q6J("maxlength",11),e.xp6(3),e.Akn(e.DdM(242,p)),e.xp6(5),e.Akn(e.DdM(243,u)),e.Q6J("options",i.gender_type))},dependencies:[C.O5,P.A,R.t,I.Z,h.jx,c.iA,c.lQ,c.fz,c.UA,c.Mo,c.xl,x.Hq,y.V,U.o,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.nD,a.sg,a.u,D.FN,Y.Lt,W.f,ee.NU],styles:["[_nghost-%COMP%]     .p-datatable-header{background-color:#f16357;border:1px solid #f16357}.customText[_ngcontent-%COMP%]{line-height:1.625;font-weight:400;font-size:1.5rem;font-family:Roboto,sans-serif;color:#616161}"]}),o})();var te=d(2665);const at=function(){return{display:"flex","justify-content":"space-between"}},lt=function(){return{"font-size":"20px"}},ie=function(){return{width:"100%"}};function pt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",11)(2,"div",32),e._uU(3),e.qZA(),e.TgZ(4,"div",33)(5,"span",34),e._UZ(6,"i",35),e.TgZ(7,"input",36),e.NdJ("input",function(n){e.CHM(t),e.oxw();const s=e.MAs(3),l=e.oxw();return e.KtG(s.filterGlobal(l.getEventValue(n),"contains"))}),e.qZA()()()()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Akn(e.DdM(9,at)),e.xp6(1),e.Akn(e.DdM(10,lt)),e.xp6(1),e.hij(" Recursos de ",t.roleSelected.name," "),e.xp6(2),e.Akn(e.DdM(11,ie)),e.xp6(2),e.Akn(e.DdM(12,ie))}}function dt(o,r){1&o&&(e.TgZ(0,"tr")(1,"th",37),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",38)(4,"p"),e._uU(5,"Indice"),e.qZA()(),e.TgZ(6,"th",39)(7,"div",40),e._uU(8," path "),e._UZ(9,"p-sortIcon",41)(10,"p-columnFilter",42),e.qZA()(),e.TgZ(11,"th",43)(12,"div",40),e._uU(13," id_padre "),e._UZ(14,"p-sortIcon",44)(15,"p-columnFilter",45),e.qZA()(),e.TgZ(16,"th",46)(17,"div",40),e._uU(18," icono "),e._UZ(19,"p-sortIcon",47)(20,"p-columnFilter",48),e.qZA()(),e.TgZ(21,"th",49)(22,"div",40),e._uU(23," link "),e._UZ(24,"p-sortIcon",50)(25,"p-columnFilter",51),e.qZA()(),e.TgZ(26,"th",52)(27,"div",40),e._uU(28," titulo "),e._UZ(29,"p-sortIcon",53)(30,"p-columnFilter",54),e.qZA()(),e.TgZ(31,"th",55),e._uU(32," Acciones "),e.qZA()())}function ct(o,r){if(1&o&&(e.TgZ(0,"tr",56)(1,"td"),e._UZ(2,"p-tableCheckbox",57),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"span",58),e._uU(7,"Nombre"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"span",58),e._uU(11,"Nombre"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"span",58),e._uU(15,"Nombre"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"span",58),e._uU(19,"Nombre"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"td")(22,"span",58),e._uU(23,"Nombre"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",59),e._UZ(26,"button",60)(27,"button",61)(28,"button",62)(29,"p-confirmPopup"),e.qZA()()),2&o){const t=r.$implicit,i=r.rowIndex;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.hij(" ",i+1," "),e.xp6(4),e.hij(" ",t.path," "),e.xp6(4),e.hij(" ",t.id_padre," "),e.xp6(4),e.hij(" ",t.icono," "),e.xp6(4),e.hij(" ",t.link," "),e.xp6(4),e.hij(" ",t.titulo," ")}}function ut(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",63),e._uU(2,"No hay datos que mostrar"),e.qZA()())}const mt=function(){return[10,25,50]},_t=function(){return["name"]};function gt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"p-card")(2,"p-table",25,26),e.NdJ("selectionChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.itemsBulkDelete=n)}),e.YNc(4,pt,8,13,"ng-template",27),e.YNc(5,dt,33,0,"ng-template",28),e.YNc(6,ct,30,7,"ng-template",29),e.YNc(7,ut,3,0,"ng-template",30),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("value",t.resourcesByRol)("selection",t.itemsBulkDelete)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(10,mt))("loading",t.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(11,_t))}}function ht(o,r){if(1&o&&(e.TgZ(0,"div",64),e._UZ(1,"p-message",65),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("text",t.inforCardDescriptionErrorInitial)}}function ft(o,r){if(1&o&&(e.TgZ(0,"div",64),e._UZ(1,"p-message",66),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.MGl("text","El Rol [",t.roleSelected.name,"] no tiene ningun recurso a\xfan.")}}const Zt=function(){return{"min-width":"250px","max-width":"250px"}},bt=function(o){return{width:o,"min-height":"70vh"}},N=function(){return{"font-weight":"bold"}},vt=function(){return{"min-width":"250px",width:"100%"}},At=[{path:"usuarios",component:rt},{path:"permisos",component:$e},{path:"recursos",component:(()=>{class o{constructor(t,i,n,s,l){this.fb=t,this.adminService=i,this.pantallaService=n,this.messageService=s,this.confirmationService=l,this.API_URI=q.N.API_URI,this.width="",this.roles=[],this.resources=[],this.resourcesByRol=[],this.itemsBulkDelete=[],this.roleSelected=null,this.loading=!1,this.displayFormCreate=!1,this.inforCardDescription="\n  Este m\xf3dulo es la la parte fundamental del sistema de gesti\xf3n de accesos, permitiendo una administraci\xf3n eficiente de los roles y recursos asociados. Aqu\xed puedes crear, asignar, editar y eliminar recursos, que representan los accesos a diversas vistas dentro de nuestra aplicaci\xf3n. Los roles, por otro lado, act\xfaan como conjuntos de permisos que determinan qu\xe9 acciones y recursos est\xe1n disponibles para los usuarios.\n  ",this.inforCardDescriptionHeaderDialog="\n  Define nuevas vistas y funcionalidades en segundos. Personaliza el acceso a tu aplicaci\xf3n con recursos claros y descriptivos. Esta funci\xf3n agiliza la expansi\xf3n y adaptaci\xf3n de tu sistema, permiti\xe9ndote asignar permisos de forma precisa a roles espec\xedficos. Con la capacidad de crear recursos f\xe1cilmente, mant\xe9n tu plataforma \xe1gil y siempre actualizada.\n  ",this.inforCardDescriptionErrorInitial="Selecciona un Rol para interactuar con sus recursos.",this.inforCardDescriptionErrorEmpty="Este rol no tiene ningun recurso a\xfan.",this.formCreate=this.fb.group({path:["",a.kI.required],id_padre:["",a.kI.required],icono:["",a.kI.required],titulo:["",a.kI.required]}),this.variantColor=w.$.Blue}ngOnInit(){const[t]=this.pantallaService.calcularEspacioPantalla();this.subscription$=t.subscribe(i=>this.width=i),this.token=localStorage.getItem("token"),this.getRoles(),this.getResources()}getRoles(){this.adminService.get(`${this.API_URI}/roles/`,this.token).subscribe(t=>{this.roles=t.data})}getResources(){this.adminService.get(`${this.API_URI}/resources/`,this.token).subscribe(t=>{this.resources=t.data})}getEventValue(t){return t.target.value}changeDisplayFormCreate(){this.displayFormCreate=!this.displayFormCreate}handleCloseFormCreateDialog(){this.displayFormCreate=!1,this.formCreate.reset()}onSubmitFormCreate(){console.log(this.formCreate.value)}onChangeRole(t){if(this.resourcesByRol=[],this.roleSelected=null,null!==t.value){const i=t.value.id;this.roleSelected=t.value;try{this.adminService.get(`${this.API_URI}/resources/related/${i}/`,this.token).subscribe(n=>this.resourcesByRol=n.data)}catch(n){console.log(n)}}}deleteAll(){if(0===this.itemsBulkDelete.map(n=>n.id).length)return this.messageService.add({severity:"error",summary:"Notififaci\xf3n",detail:"Debes seleccionar al menos un registro"});this.itemsBulkDelete=[]}confirm(t,i){this.confirmationService.confirm({target:t.target,message:"\xbfSeguro que desea eliminar este Rol?",icon:"pi pi-exclamation-triangle",accept:()=>{this.itemsBulkDelete=[]},reject:()=>{}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.QS),e.Y36(k.l),e.Y36(M.c),e.Y36(h.ez),e.Y36(h.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-recursos"]],decls:51,vars:41,consts:[["titulo","Roles y Recursos"],["card-body","",1,"grid"],[1,"col-12"],[3,"description"],["pButton","","pRipple","","type","button","label","Crear recurso","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","label","Eliminar seleccionados","icon","pi pi-trash",1,"p-button-danger","mr-2",3,"click"],["placeholder","Selecciona un rol","optionLabel","name",3,"options","ngModel","showClear","ngModelChange","onChange"],["class","col-12",4,"ngIf"],["class","mt-5 col-12 flex justify-content-center",4,"ngIf"],["header","Creando Recurso",3,"visible","showHeader","modal","dismissableMask","visibleChange","onHide"],[3,"formGroup"],[1,"grid"],[3,"description","variant"],[1,"col-8"],[1,"col-6"],[1,"flex","flex-column","gap-2"],[1,"mb-2"],[1,"p-inputgroup","my-1"],[1,"p-inputgroup-addon"],[1,"pi","pi-bookmark-fill",2,"color","#f16357"],["type","text","placeholder","Admin","formControlName","titulo","pInputText","",3,"maxlength"],["formControlName","id_padre","placeholder","Selecciona una opcion","optionLabel","path",3,"options","showClear"],["type","text","placeholder","/dashboard/admin/","formControlName","path","pInputText","",3,"maxlength"],["type","text","placeholder","pi pi-home","formControlName","icono","pInputText","",3,"maxlength"],[1,"col-4"],["dataKey","id","styleClass","p-datatable-customers","responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} elementos","responsiveLayout","scroll",3,"value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"table-header"],[1,"col-12","md:col-6","lg:col-6"],[1,"col-12","md:col-6","lg:col-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Busqueda global",3,"input"],[2,"width","3rem"],[2,"width","5rem"],["pSortableColumn","path"],[1,"flex","justify-content-between","align-items-center"],["field","path"],["type","text","field","path","display","menu",1,"ml-auto"],["pSortableColumn","id_padre"],["field","id_padre"],["type","text","field","id_padre","display","menu",1,"ml-auto"],["pSortableColumn","icono"],["field","icono"],["type","text","field","icono","display","menu",1,"ml-auto"],["pSortableColumn","link"],["field","link"],["type","text","field","link","display","menu",1,"ml-auto"],["pSortableColumn","titulo"],["field","titulo"],["type","text","field","titulo","display","menu",1,"ml-auto"],[2,"width","8rem","text-align","center"],[1,"p-selectable-row"],[3,"value"],[1,"p-column-title"],[1,"flex","justify-content-center","align-items-center",2,"text-align","center"],["pButton","","type","button","icon","pi pi-eye","title","Detalles",1,"p-button-secondary","m-1"],["pButton","","type"," button","icon","pi pi-pencil","title","Editar",1,"p-button-warning","m-1"],["pButton","","type"," button","icon","pi pi-trash","title","Eliminar",1,"p-button-danger","m-1"],["colspan","8"],[1,"mt-5","col-12","flex","justify-content-center"],["severity","info","styleClass","mr-2",3,"text"],["severity","warn","styleClass","mr-2",3,"text"]],template:function(t,i){1&t&&(e.TgZ(0,"app-card",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-custom-info-card",3),e.TgZ(4,"div")(5,"button",4),e.NdJ("click",function(){return i.changeDisplayFormCreate()}),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.deleteAll()}),e.qZA()()(),e.TgZ(7,"div",2)(8,"p-dropdown",6),e.NdJ("ngModelChange",function(s){return i.roleSelected=s})("onChange",function(s){return i.onChangeRole(s)}),e.qZA()(),e.YNc(9,gt,8,12,"div",7),e.YNc(10,ht,2,1,"div",8),e.YNc(11,ft,2,1,"div",8),e.qZA()(),e.TgZ(12,"p-dialog",9),e.NdJ("visibleChange",function(s){return i.displayFormCreate=s})("onHide",function(){return i.handleCloseFormCreateDialog()}),e.TgZ(13,"form",10)(14,"div",11),e._UZ(15,"app-custom-info-card",12),e.TgZ(16,"div",13)(17,"div",11)(18,"div",14)(19,"div",15)(20,"label",16),e._uU(21,"Titulo "),e.qZA(),e.TgZ(22,"div",17)(23,"span",18),e._UZ(24,"i",19),e.qZA(),e._UZ(25,"input",20),e.qZA()()(),e.TgZ(26,"div",14)(27,"div",15)(28,"label",16),e._uU(29,"Padre "),e.qZA(),e.TgZ(30,"div",17)(31,"span",18),e._UZ(32,"i",19),e.qZA(),e._UZ(33,"p-dropdown",21),e.qZA()()(),e.TgZ(34,"div",14)(35,"div",15)(36,"label",16),e._uU(37,"Path "),e.qZA(),e.TgZ(38,"div",17)(39,"span",18),e._UZ(40,"i",19),e.qZA(),e._UZ(41,"input",22),e.qZA()()(),e.TgZ(42,"div",14)(43,"div",15)(44,"label",16),e._uU(45,"Icono "),e.qZA(),e.TgZ(46,"div",17)(47,"span",18),e._UZ(48,"i",19),e.qZA(),e._UZ(49,"input",23),e.qZA()()()()(),e._UZ(50,"div",24),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("description",i.inforCardDescription),e.xp6(5),e.Akn(e.DdM(33,Zt)),e.Q6J("options",i.roles)("ngModel",i.roleSelected)("showClear",!0),e.xp6(1),e.Q6J("ngIf",i.resourcesByRol.length>0&&null!==i.roleSelected),e.xp6(1),e.Q6J("ngIf",0===i.resourcesByRol.length&&null===i.roleSelected),e.xp6(1),e.Q6J("ngIf",0===i.resourcesByRol.length&&null!==i.roleSelected),e.xp6(1),e.Akn(e.VKq(34,bt,i.width)),e.Q6J("visible",i.displayFormCreate)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("formGroup",i.formCreate),e.xp6(2),e.Q6J("description",i.inforCardDescriptionHeaderDialog)("variant",i.variantColor),e.xp6(5),e.Akn(e.DdM(36,N)),e.xp6(5),e.Q6J("maxlength",50),e.xp6(3),e.Akn(e.DdM(37,N)),e.xp6(5),e.Akn(e.DdM(38,vt)),e.Q6J("options",i.resources)("showClear",!0),e.xp6(3),e.Akn(e.DdM(39,N)),e.xp6(5),e.Q6J("maxlength",50),e.xp6(3),e.Akn(e.DdM(40,N)),e.xp6(5),e.Q6J("maxlength",50))},dependencies:[C.O5,P.A,R.t,I.Z,h.jx,c.iA,c.lQ,c.fz,c.UA,c.Mo,c.xl,x.Hq,y.V,U.o,a._Y,a.Fj,a.JJ,a.JL,a.nD,a.On,a.sg,a.u,Y.Lt,S.P,te.q],styles:["[_nghost-%COMP%]     .p-datatable-header{background-color:#f16357;border:1px solid #f16357}.customText[_ngcontent-%COMP%]{line-height:1.625;font-weight:400;font-size:1.5rem;font-family:Roboto,sans-serif;color:#616161}"]}),o})()},{path:"test",component:le}];let Tt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[B.Bz.forChild(At),B.Bz]}),o})();var Ct=d(2137),xt=d(9764),yt=d(4466);let Ut=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.ez,Tt,yt.m,I.d,c.U$,x.hJ,Ct.D,xt.Q,y.S,U.j,a.u5,a.UX,O.kK,G.WN,D.EV,V.nD,Y.kW,W._8,ee.q4,S.n,te.O]}),o})()}}]);
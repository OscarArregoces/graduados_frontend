"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[943],{6943:(V,m,o)=>{o.r(m),o.d(m,{TipoIdentificacionModule:()=>Y});var I=o(6895),f=o(2496),r=o(433),p=o(262),_=o(9050),E=o(2340),e=o(8274),F=o(7180),u=o(805),x=o(1967),k=o(9219),D=o(6474),h=o(1740),g=o(5593),v=o(2453),c=o(8396),b=o(1493),C=o(369),y=o(4247);const U=function(){return{display:"flex","justify-content":"space-between"}},G=function(){return{"font-size":"20px"}},T=function(){return{width:"100%"}};function S(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",27)(1,"div",16)(2,"div",28),e._uU(3," Lista de Tipo Identificaci\xf3n "),e.qZA(),e.TgZ(4,"div",29)(5,"span",30),e._UZ(6,"i",31),e.TgZ(7,"input",32),e.NdJ("input",function(a){e.CHM(i);const l=e.oxw(),d=e.MAs(10);return e.KtG(d.filterGlobal(l.getEventValue(a),"contains"))}),e.qZA()()()()()}2&n&&(e.xp6(1),e.Akn(e.DdM(8,U)),e.xp6(1),e.Akn(e.DdM(9,G)),e.xp6(3),e.Akn(e.DdM(10,T)),e.xp6(2),e.Akn(e.DdM(11,T)))}function N(n,s){1&n&&(e.TgZ(0,"tr")(1,"th",33),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",34)(4,"p"),e._uU(5,"Indice"),e.qZA()(),e.TgZ(6,"th",35)(7,"div",36),e._uU(8," Nombre "),e._UZ(9,"p-sortIcon",37)(10,"p-columnFilter",38),e.qZA()(),e.TgZ(11,"th",39),e._uU(12," Editar "),e.qZA(),e.TgZ(13,"th",39),e._uU(14," Eliminar "),e.qZA()())}function J(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"tr",40)(1,"td"),e._UZ(2,"p-tableCheckbox",41),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"span",42),e._uU(7,"Tipo"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",43)(10,"button",44),e.NdJ("click",function(){const l=e.CHM(i).$implicit,d=e.oxw();return e.KtG(d.changeDisplayFormEdit(l))}),e.qZA()(),e.TgZ(11,"td",43),e._UZ(12,"p-confirmPopup"),e.TgZ(13,"button",45),e.NdJ("click",function(a){const d=e.CHM(i).$implicit,j=e.oxw();return e.KtG(j.confirm(a,d.id))}),e.qZA()()()}if(2&n){const i=s.$implicit,t=s.rowIndex;e.xp6(2),e.Q6J("value",i),e.xp6(2),e.hij(" ",t+1," "),e.xp6(4),e.hij(" ",i.name," ")}}function M(n,s){1&n&&(e.TgZ(0,"tr")(1,"td",46),e._uU(2,"No hay datos que mostrar"),e.qZA()())}const H=function(){return[10,25,50]},P=function(){return["name"]},Z=function(n){return{width:n,"text-aling":"center","min-height":"70vh"}},A=function(){return{"font-weight":"bold"}},w=[{path:"gestionar",component:(()=>{class n{constructor(i,t,a,l,d){this.adminService=i,this.messageService=t,this.pantallaService=a,this.confirmationService=l,this.fb=d,this.API_URI=E.N.API_URI,this.displayFormCreate=!1,this.displayFormEdit=!1,this.loading=!1,this.tiposIdentificacion=[],this.tiposIdentificacionVerificated=[],this.itemsBulkDelete=[],this.idFormEdit="",this.inforCardDescription="\n  Nuestro m\xf3dulo de Gesti\xf3n de Tipos de Identificaci\xf3n ofrece una soluci\xf3n eficiente para administrar la variedad de documentos de identificaci\xf3n utilizados por nuestros usuarios al registrarse en la aplicaci\xf3n. Con esta funcionalidad, puedes crear, editar, eliminar y visualizar los diferentes tipos de identificaci\xf3n admitidos, como c\xe9dulas, pasaportes, licencias de conducir, entre otros. Proporciona una experiencia de usuario personalizada, permitiendo a los usuarios seleccionar con precisi\xf3n el tipo de documento que desean asociar a su perfil. \n  ",this.inforCardDescriptionCreate="\n  Simplifica el proceso de incorporar nuevos tipos de identificaci\xf3n a nuestra plataforma. Permite a los usuarios personalizar su perfil seleccionando con precisi\xf3n el tipo de documento que desean asociar, brindando una experiencia de usuario eficiente y adaptada a sus necesidades.\n  ",this.inforCardDescriptionEdit="\n  Mant\xe9n tu informaci\xf3n de identificaci\xf3n siempre actualizada con nuestra funci\xf3n de actualizaci\xf3n de tipos de identificaci\xf3n. Ofrece a los usuarios la flexibilidad de editar y ajustar el tipo de documento asociado a su perfil, asegurando una gesti\xf3n eficiente y una experiencia de usuario personalizada.\n  ",this.formCreate=this.fb.group({name:["",[r.kI.required,r.kI.minLength(5)]]}),this.formEdit=this.fb.group({name:["",[r.kI.required,r.kI.minLength(5)]]}),this.variantColor=_.$.Blue}ngOnInit(){this.token=localStorage.getItem("token"),this.traerTiposIdentificacion();const[i]=this.pantallaService.calcularEspacioPantalla();this.subscription$=i.subscribe(t=>this.width=t)}ngOnDestroy(){this.subscription$.unsubscribe()}onSubmit(){if(this.tiposIdentificacionVerificated.includes(this.formCreate.value.name.toLowerCase().replace(/\s+/g,"")))return this.messageService.add({severity:"error",summary:"Error",detail:"Ya existe"});this.adminService.post(`${this.API_URI}/documents/create/`,this.formCreate.value,this.token).pipe((0,p.K)(i=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema"}),i})).subscribe(i=>{this.formCreate.reset(),this.traerTiposIdentificacion(),this.changeDisplayFormCreate(),this.messageService.add({severity:"success",summary:"Notififaci\xf3n",detail:"Creado correctamente"})})}handleEdit(){if(this.tiposIdentificacionVerificated.includes(this.formEdit.value.name.toLowerCase().replace(/\s+/g,"")))return this.messageService.add({severity:"error",summary:"Error",detail:"Ya existe"});this.adminService.put(`${this.API_URI}/documents/update/${this.idFormEdit}/`,this.formEdit.value,this.token).pipe((0,p.K)(i=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema"}),i})).subscribe(i=>{this.formEdit.reset(),this.traerTiposIdentificacion(),this.changeDisplayFormEdit(),this.messageService.add({severity:"success",summary:"Notififaci\xf3n",detail:"Actualizado correctamente"})})}deleteAll(){const i=this.itemsBulkDelete.map(a=>a.id);if(0===i.length)return this.messageService.add({severity:"error",summary:"Notififaci\xf3n",detail:"Debes seleccionar al menos un registro"});let t={ids:i};try{this.adminService.delete(`${this.API_URI}/documents/delete/`,this.token,t).subscribe(a=>{this.traerTiposIdentificacion(),this.itemsBulkDelete=[],this.messageService.add({severity:"success",summary:"Notififaci\xf3n",detail:"Eliminado correctamente"})})}catch(a){console.log("Error en consnulta",a)}}changeDisplayFormCreate(){this.displayFormCreate=!this.displayFormCreate}closeDisplayFormCreate(){this.displayFormCreate=!1,this.formCreate.reset()}changeDisplayFormEdit(i={}){this.idFormEdit=i.id,this.formEdit.patchValue(i),this.displayFormEdit=!this.displayFormEdit}closeDisplayFormEdit(){this.displayFormEdit=!1,this.formEdit.reset()}traerTiposIdentificacion(){this.tiposIdentificacion=[],this.tiposIdentificacionVerificated=[],this.adminService.get(`${this.API_URI}/documents`,this.token).pipe((0,p.K)(i=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema"}),i})).subscribe(i=>{this.tiposIdentificacion=i.data,i.data.map(t=>this.tiposIdentificacionVerificated.push(t.name))})}getEventValue(i){return i.target.value}confirm(i,t){this.confirmationService.confirm({target:i.target,message:"\xbfSeguro que desea eliminar este Tipo de Identificaci\xf3n?",icon:"pi pi-exclamation-triangle",accept:()=>{this.adminService.delete(`${this.API_URI}/documents/delete/${t}/`,this.token).pipe((0,p.K)(a=>{throw this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema"}),a})).subscribe(a=>(this.traerTiposIdentificacion(),this.messageService.add({severity:"success",summary:"Notififaci\xf3n",detail:"Eliminado correctamente !!!"})))},reject:()=>{}})}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(F.l),e.Y36(u.ez),e.Y36(x.c),e.Y36(u.YP),e.Y36(r.QS))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gestionar"]],decls:46,vars:41,consts:[["titulo","Gestionar Tipo Identificaci\xf3n"],["card-body","",1,"grid"],[3,"description"],[1,"col-12"],["pButton","","pRipple","","type","submit","icon","pi pi-plus","label","Crear Nuevo",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","submit","icon","pi pi-trash","label"," Eliminar seleccionados",1,"p-button-danger","mr-2",3,"click"],[1,"col-12","md:col-12","lg:col-12"],[1,"flex","flex-column","gap-2"],["dataKey","id","styleClass","p-datatable-customers","responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} elementos","responsiveLayout","scroll",3,"value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Creando Tipo de Identififaci\xf3n",3,"visible","showHeader","modal","dismissableMask","visibleChange","onHide"],[3,"formGroup"],[1,"grid"],[1,"mb-2"],[1,"p-inputgroup","my-1"],[1,"p-inputgroup-addon"],[1,"pi","pi-bookmark-fill",2,"color","#f16357"],["type","text","placeholder","Escribe aqui...","formControlName","name","pInputText",""],[1,"col-12","flex","justify-content-center","align-items-center"],["pButton","","pRipple","","type","submit","label","Guardar","icon","pi pi-save",1,"p-button-success","mx-5",3,"disabled","click"],["pButton","","pRipple","","type","button","label","Cancelar",1,"p-button-outlined","p-button-danger","mx-5",3,"click"],["header","Actualizando Tipo de Identififaci\xf3n",3,"visible","showHeader","modal","dismissableMask","visibleChange","onHide"],["pButton","","pRipple","","type","submit","label","Actualizar","icon","pi pi-save",1,"p-button-warning","mx-5",3,"disabled","click"],[1,"table-header"],[1,"col-12","md:col-6","lg:col-6"],[1,"col-12","md:col-6","lg:col-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Busqueda global",3,"input"],[2,"width","3rem"],[2,"width","5rem"],["pSortableColumn","name"],[1,"flex","justify-content-between","align-items-center"],["field","name"],["type","text","field","name","display","menu",1,"ml-auto"],[2,"width","8rem","text-align","center"],[1,"p-selectable-row"],[3,"value"],[1,"p-column-title"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-warning",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-danger",3,"click"],["colspan","8"]],template:function(i,t){1&i&&(e.TgZ(0,"app-card",0)(1,"div",1),e._UZ(2,"app-custom-info-card",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return t.changeDisplayFormCreate()}),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return t.deleteAll()}),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"p-card")(9,"p-table",8,9),e.NdJ("selectionChange",function(l){return t.itemsBulkDelete=l}),e.YNc(11,S,8,12,"ng-template",10),e.YNc(12,N,15,0,"ng-template",11),e.YNc(13,J,14,3,"ng-template",12),e.YNc(14,M,3,0,"ng-template",13),e.qZA()()()()()(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(l){return t.displayFormCreate=l})("onHide",function(){return t.closeDisplayFormCreate()}),e._UZ(16,"app-custom-info-card",2),e.TgZ(17,"form",15)(18,"div",16)(19,"div",6)(20,"div",7)(21,"label",17),e._uU(22,"Nombre "),e.qZA(),e.TgZ(23,"div",18)(24,"span",19),e._UZ(25,"i",20),e.qZA(),e._UZ(26,"input",21),e.qZA()()(),e.TgZ(27,"div",22)(28,"button",23),e.NdJ("click",function(){return t.onSubmit()}),e.qZA(),e.TgZ(29,"button",24),e.NdJ("click",function(){return t.closeDisplayFormCreate()}),e.qZA()()()()(),e.TgZ(30,"p-dialog",25),e.NdJ("visibleChange",function(l){return t.displayFormEdit=l})("onHide",function(){return t.closeDisplayFormEdit()}),e._UZ(31,"app-custom-info-card",2),e.TgZ(32,"form",15)(33,"div",16)(34,"div",6)(35,"div",7)(36,"label",17),e._uU(37,"Nombre "),e.qZA(),e.TgZ(38,"div",18)(39,"span",19),e._UZ(40,"i",20),e.qZA(),e._UZ(41,"input",21),e.qZA()()(),e.TgZ(42,"div",22)(43,"button",26),e.NdJ("click",function(){return t.handleEdit()}),e.qZA(),e.TgZ(44,"button",24),e.NdJ("click",function(){return t.closeDisplayFormEdit()}),e.qZA()()()()(),e._UZ(45,"p-toast")),2&i&&(e.xp6(2),e.Q6J("description",t.inforCardDescription),e.xp6(7),e.Q6J("value",t.tiposIdentificacion)("selection",t.itemsBulkDelete)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(33,H))("loading",t.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(34,P)),e.xp6(6),e.Akn(e.VKq(35,Z,t.width)),e.Q6J("visible",t.displayFormCreate)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",t.inforCardDescriptionCreate),e.xp6(1),e.Q6J("formGroup",t.formCreate),e.xp6(4),e.Akn(e.DdM(37,A)),e.xp6(7),e.Q6J("disabled",!t.formCreate.valid),e.xp6(2),e.Akn(e.VKq(38,Z,t.width)),e.Q6J("visible",t.displayFormEdit)("showHeader",!0)("modal",!0)("dismissableMask",!1),e.xp6(1),e.Q6J("description",t.inforCardDescriptionEdit),e.xp6(1),e.Q6J("formGroup",t.formEdit),e.xp6(4),e.Akn(e.DdM(40,A)),e.xp6(7),e.Q6J("disabled",!t.formEdit.valid))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,k.A,D.t,h.o,g.Hq,v.FN,u.jx,c.iA,c.lQ,c.fz,c.UA,c.Mo,c.xl,b.V,C.P,y.Z],styles:["[_nghost-%COMP%]     .p-datatable-header{background-color:#f16357;border:1px solid #f16357}"]}),n})()}];let R=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.Bz.forChild(w),f.Bz]}),n})();var B=o(4466),z=o(2210),$=o(3054),q=o(1989),Q=o(613);let Y=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.ez,r.u5,r.UX,R,B.m,h.j,g.hJ,v.EV,c.U$,b.S,z.kW,C.n,$.A,q.nD,Q.cc,y.d]}),n})()}}]);
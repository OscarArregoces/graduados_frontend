"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[81],{8794:(U,y,a)=>{a.d(y,{z:()=>g});var v=a(529),c=a(262),p=a(2843),m=a(2340),t=a(8274);let g=(()=>{class d{constructor(o){this.http=o,this.API_URI=m.N.API_URI}getAreas(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/eventos/areas`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getSubareas(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/eventos/sub/areas/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getTipoActividades(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/eventos/tipos/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getActividades(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/eventos/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getSedes(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/university/sede/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getFacultades(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/university/faculta/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getProgramas(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/university/programa/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getGeneros(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/genders`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getCondiciones(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/condiciones`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getTiposDocumento(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/documents`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getSolicitudes(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/pqrs`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getTipoSolicitudes(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/pqrs/tipo/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getPreguntas(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/poll/questions/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getMomentos(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/poll/momentos/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getCapacitaciones(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/advertisements/capacitaciones/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getCategorias(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/advertisements/category/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getSubCategorias(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/advertisements/sub/category/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getEmprendimientos(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/advertisements/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getRoles(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/roles/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getPaises(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/nationality/pais/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getDepartamentos(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/nationality/departamento`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getCiudades(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/nationality/ciudad`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getServicios(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/eventos/servicios/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}getDependencias(){const o=this.createHeaders();return this.http.get(`${this.API_URI}/gestor/`,{headers:o}).pipe((0,c.K)(this.handleHttpError))}createHeaders(){const o=localStorage.getItem("token");return o?new v.WM({Authorization:`Bearer ${o}`}):(console.warn("No se encontr\xf3 un token en el localStorage."),new v.WM)}handleHttpError(o){return(0,p._)(()=>o)}}return d.\u0275fac=function(o){return new(o||d)(t.LFG(v.eN))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},81:(U,y,a)=>{a.r(y),a.d(y,{TipoSolicitudModule:()=>nt});var v=a(6895),c=a(2496),p=a(433),m=a(2340),t=a(8274),g=a(7948),d=a(805),_=a(1740),o=a(5593),f=a(2453);let x=(()=>{class r{constructor(e,i,s){this.fb=e,this.pqrsService=i,this.messageService=s,this.API_URI=m.N.API_URI,this.form=this.fb.group({tipo:["",p.kI.required]})}ngOnInit(){this.token=localStorage.getItem("token")}onSubmit(){try{this.pqrsService.post(`${this.API_URI}/pqrs/tipo/create/`,this.form.value,this.token).subscribe(e=>{this.form.reset(),this.messageService.add({severity:"success",summary:"Success",detail:"Creado correctamente !!!"})})}catch{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema"})}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(p.QS),t.Y36(g.K),t.Y36(d.ez))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-crear"]],decls:7,vars:1,consts:[[1,"main"],[3,"formGroup","submit"],["type","text","placeholder","Nombre","pInputText","","formControlName","tipo"],["pButton","","pRipple","","type","submit","label","Crear tipo",1,"p-button-success"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Crear tipo de solicitud"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("submit",function(){return i.onSubmit()}),t._UZ(4,"input",2)(5,"button",3),t.qZA()(),t._UZ(6,"p-toast")),2&e&&(t.xp6(3),t.Q6J("formGroup",i.form))},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,_.o,o.Hq,f.FN],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]{width:500px;border:1px solid rgba(128,128,128,.555);border-radius:10px;padding:20px;display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:10px;width:100%}"]}),r})();var h=a(8396),S=a(1493);function P(r,n){1&r&&(t.TgZ(0,"tr")(1,"th",9),t._uU(2,"Indice"),t.qZA(),t.TgZ(3,"th",10),t._uU(4,"ID "),t._UZ(5,"p-sortIcon",11),t.qZA(),t.TgZ(6,"th",12),t._uU(7,"Nombre "),t._UZ(8,"p-sortIcon",13),t.qZA(),t.TgZ(9,"th",9),t._uU(10,"Editar"),t.qZA()())}function q(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",14),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.showEditar(l.id))}),t.qZA()()()}if(2&r){const e=n.$implicit,i=n.rowIndex;t.xp6(2),t.Oqu(i),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.tipo)}}const R=function(){return{"min-width":"60rem"}},H=function(){return{width:"40vw",height:"40vh"}};let M=(()=>{class r{constructor(e,i,s){this.fb=e,this.pqrsService=i,this.messageService=s,this.API_URI=m.N.API_URI,this.id="",this.display=!1,this.tipo_solicitudes=[],this.tipo_solicitudesVerificated=[],this.form=this.fb.group({tipo:["",p.kI.required]})}ngOnInit(){this.token=localStorage.getItem("token"),this.traerSolicitudes()}showEditar(e){this.id=e,this.display=!this.display}submit(){if(this.tipo_solicitudesVerificated.includes(this.form.value.tipo.toLowerCase().trim()))return this.messageService.add({severity:"error",summary:"Error",detail:"Este tipo de solicitud ya existe"});try{this.pqrsService.put(`${this.API_URI}/pqrs/tipo/update/${this.id}/`,this.form.value,this.token).subscribe(e=>{this.form.reset(),this.traerSolicitudes(),this.showEditar(""),this.messageService.add({severity:"success",summary:"Success",detail:"Editado correctamente"})})}catch(e){console.log(e),this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema con la peticion"})}}traerSolicitudes(){this.tipo_solicitudes=[],this.tipo_solicitudesVerificated=[];try{this.pqrsService.get(`${this.API_URI}/pqrs/tipo/`,this.token).subscribe(e=>{console.log(e.data),this.tipo_solicitudes=e.data,e.data.map(i=>this.tipo_solicitudesVerificated.push(i.tipo.toLowerCase().trim()))})}catch(e){console.log(e),this.messageService.add({severity:"error",summary:"Error",detail:"Error al traer las solicitudes"})}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(p.QS),t.Y36(g.K),t.Y36(d.ez))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-editar"]],decls:12,vars:12,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["header","Editar momento",3,"visible","modal","draggable","resizable","visibleChange"],[1,"grid","dialog-form-crear","col-12","md:col-12","lg:col-12"],[3,"formGroup","submit"],["type","text","pInputText","","placeholder","Nombre","formControlName","tipo",1,"my-3"],["pButton","","pRipple","","type","submit","label","Editar",1,"p-button-warning",3,"disabled"],[2,"width","20%"],["pSortableColumn","id",2,"width","20%"],["field","id"],["pSortableColumn","pregunta_nombre",2,"width","20%"],["field","pregunta_nombre"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning","mx-3",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Editar tipo de solicitudes"),t.qZA(),t.TgZ(3,"p-table",1),t.YNc(4,P,11,0,"ng-template",2),t.YNc(5,q,9,3,"ng-template",3),t.qZA()(),t.TgZ(6,"p-dialog",4),t.NdJ("visibleChange",function(l){return i.display=l}),t.TgZ(7,"div",5)(8,"form",6),t.NdJ("submit",function(){return i.submit()}),t._UZ(9,"input",7)(10,"button",8),t.qZA()()(),t._UZ(11,"p-toast")),2&e&&(t.xp6(3),t.Q6J("value",i.tipo_solicitudes)("tableStyle",t.DdM(10,R)),t.xp6(3),t.Akn(t.DdM(11,H)),t.Q6J("visible",i.display)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(2),t.Q6J("disabled",!i.form.valid))},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,_.o,o.Hq,f.FN,d.jx,h.iA,h.lQ,h.fz,S.V],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}form[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:20px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:80%}"]}),r})();var A=a(369);function k(r,n){1&r&&(t.TgZ(0,"tr")(1,"th",4),t._uU(2,"Indice"),t.qZA(),t.TgZ(3,"th",5),t._uU(4,"ID "),t._UZ(5,"p-sortIcon",6),t.qZA(),t.TgZ(6,"th",7),t._uU(7,"Nombre "),t._UZ(8,"p-sortIcon",8),t.qZA(),t.TgZ(9,"th",9),t._uU(10,"Eliminar"),t.qZA()())}function w(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"p-confirmPopup"),t.TgZ(9,"button",10),t.NdJ("click",function(s){const u=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.confirm(s,u.id))}),t.qZA()()()}if(2&r){const e=n.$implicit,i=n.rowIndex;t.xp6(2),t.Oqu(i),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.tipo)}}const D=function(){return{"min-width":"60rem"}};let F=(()=>{class r{constructor(e,i,s){this.pqrsService=e,this.messageService=i,this.confirmationService=s,this.API_URI=m.N.API_URI,this.tipo_solicitudes=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.traerPreguntas()}traerPreguntas(){this.tipo_solicitudes=[];try{this.pqrsService.get(`${this.API_URI}/pqrs/tipo/`,this.token).subscribe(e=>this.tipo_solicitudes=e.data)}catch(e){console.log(e)}}confirm(e,i){this.confirmationService.confirm({target:e.target,message:"\xbfSeguro que desea eliminar la pregunta?",icon:"pi pi-exclamation-triangle",accept:()=>{try{this.pqrsService.delete(`${this.API_URI}/pqrs/tipo/delete/${i}/`,this.token).subscribe(s=>(this.traerPreguntas(),this.messageService.add({severity:"success",summary:"Success",detail:"Eliminado correctamente !!!"})))}catch(s){return console.log(s),this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un problema en la consulta"})}},reject:()=>{}})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.K),t.Y36(d.ez),t.Y36(d.YP))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-eliminar"]],decls:8,vars:3,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"],["pSortableColumn","id",2,"width","10%"],["field","id"],["pSortableColumn","pregunta_nombre",2,"width","20%"],["field","pregunta_nombre"],[2,"width","20%"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger","mx-3",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Editar preguntas"),t.qZA(),t.TgZ(3,"p-table",1),t.YNc(4,k,11,0,"ng-template",2),t.YNc(5,w,10,3,"ng-template",3),t.qZA()(),t._UZ(6,"p-toast")(7,"p-confirmPopup")),2&e&&(t.xp6(3),t.Q6J("value",i.tipo_solicitudes)("tableStyle",t.DdM(2,D)))},dependencies:[o.Hq,f.FN,d.jx,h.iA,h.lQ,h.fz,A.P],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),r})();function N(r,n){1&r&&(t.TgZ(0,"tr")(1,"th",4),t._uU(2,"Indice"),t.qZA(),t.TgZ(3,"th",4),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Nombre"),t.qZA()())}function $(r,n){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&r){const e=n.$implicit,i=n.rowIndex;t.xp6(2),t.Oqu(i),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.tipo)}}const J=function(){return{"min-width":"50rem"}};let K=(()=>{class r{constructor(e){this.pqrsService=e,this.API_URI=m.N.API_URI}ngOnInit(){this.token=localStorage.getItem("token"),this.traerTipoSolicitudes()}traerTipoSolicitudes(){try{this.pqrsService.get(`${this.API_URI}/pqrs/tipo/`,this.token).subscribe(e=>{this.tipo_solicitudes=e.data,console.log(e)})}catch{}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.K))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-ver"]],decls:7,vars:3,consts:[[1,"main"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Ver tipos de solicitudes"),t.qZA(),t.TgZ(3,"p-table",1),t.YNc(4,N,7,0,"ng-template",2),t.YNc(5,$,7,3,"ng-template",3),t.qZA()(),t._UZ(6,"p-toast")),2&e&&(t.xp6(3),t.Q6J("value",i.tipo_solicitudes)("tableStyle",t.DdM(2,J)))},dependencies:[f.FN,d.jx,h.iA],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),r})();var O=a(1967),G=a(8794),I=a(4247),V=a(9219),Y=a(6209),j=a(6474);const B=function(){return{display:"flex","justify-content":"space-between"}},Q=function(){return{"font-size":"20px"}},Z=function(){return{width:"100%"}};function z(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",17)(2,"div",26),t._uU(3," Lista de tipo de solicitudes "),t.qZA(),t.TgZ(4,"div",27)(5,"span",28),t._UZ(6,"i",29),t.TgZ(7,"input",30),t.NdJ("input",function(s){t.CHM(e);const l=t.oxw(),u=t.MAs(10);return t.KtG(u.filterGlobal(l.getEventValue(s),"contains"))}),t.qZA()()()()()}2&r&&(t.xp6(1),t.Akn(t.DdM(8,B)),t.xp6(1),t.Akn(t.DdM(9,Q)),t.xp6(3),t.Akn(t.DdM(10,Z)),t.xp6(2),t.Akn(t.DdM(11,Z)))}function L(r,n){1&r&&(t.TgZ(0,"tr")(1,"th",31),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(3,"th",32)(4,"p"),t._uU(5,"Indice"),t.qZA()(),t.TgZ(6,"th",33)(7,"div",34),t._uU(8," Nombre "),t._UZ(9,"p-sortIcon",35)(10,"p-columnFilter",36),t.qZA()(),t.TgZ(11,"th",37),t._uU(12," Editar "),t.qZA(),t.TgZ(13,"th",37),t._uU(14," Eliminar "),t.qZA()())}function W(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr",38)(1,"td"),t._UZ(2,"p-tableCheckbox",39),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span",40),t._uU(7,"Tipo"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td",41)(10,"button",42),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.changeDisplayFormEdit(l))}),t.qZA()(),t.TgZ(11,"td",41),t._UZ(12,"p-confirmPopup"),t.TgZ(13,"button",43),t.NdJ("click",function(s){const u=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.confirm(s,u.id))}),t.qZA()()()}if(2&r){const e=n.$implicit,i=n.rowIndex;t.xp6(2),t.Q6J("value",e),t.xp6(2),t.hij(" ",i+1," "),t.xp6(4),t.hij(" ",e.tipo," ")}}function X(r,n){1&r&&(t.TgZ(0,"tr")(1,"td",44),t._uU(2,"No hay datos que mostrar"),t.qZA()())}const tt=function(){return[10,25,50]},et=function(){return["tipo"]},T=function(r){return{width:r,"text-aling":"center"}},E=function(){return{"font-weight":"bold"}},C=function(){return{width:"40%"}},it=[{path:"ver",component:K},{path:"crear",component:x},{path:"editar",component:M},{path:"eliminar",component:F},{path:"gestionar",component:(()=>{class r{constructor(e,i,s,l,u,b){this.pqrsService=e,this.messageService=i,this.confirmationService=s,this.fb=l,this.pantallaService=u,this.dataFetchingService=b,this.width="",this.searchValue="",this.API_URI=m.N.API_URI,this.tipoSolicitudes=[],this.itemsBulkDelete=[],this.loading=!1,this.tipoSolicitudesVerificated=[],this.activityValues=[0,100],this.idEdit="",this.inforCardDescription="\n  El m\xf3dulo de Tipos de Solicitudes en nuestro sistema PQRS proporciona la capacidad de definir y personalizar los diferentes tipos de consultas, quejas, reclamos y sugerencias que los usuarios pueden presentar. Desde categor\xedas espec\xedficas hasta detalles adicionales, este m\xf3dulo permite adaptar la experiencia del usuario y la clasificaci\xf3n de solicitudes de acuerdo con las necesidades de la organizaci\xf3n. Simplifica la organizaci\xf3n y gesti\xf3n de las solicitudes al tiempo que mejora la capacidad de responder de manera eficaz a cada tipo de interacci\xf3n del usuario.\n  ",this.displayFormCreate=!1,this.displayFormEdit=!1,this.formCreate=this.fb.group({tipo:["",p.kI.required]}),this.formEdit=this.fb.group({tipo:["",p.kI.required]})}ngOnInit(){this.token=localStorage.getItem("token");const[e]=this.pantallaService.calcularEspacioPantalla();this.subscription$=e.subscribe(i=>this.width=i),this.dataFetchingService.getTipoSolicitudes().subscribe(i=>{this.tipoSolicitudes=[],this.tipoSolicitudesVerificated=[],this.tipoSolicitudes=i.data,i.data.map(s=>this.tipoSolicitudesVerificated.push(s.tipo.toLowerCase().replace(/\s+/g,"")))})}ngOnDestroy(){this.subscription$.unsubscribe()}onSubmit(){if(this.tipoSolicitudesVerificated.includes(this.formCreate.value.tipo.toLowerCase().replace(/\s+/g,"")))return this.messageService.add({severity:"error",summary:"Error",detail:"Este tipo de solicitud ya existe"});try{this.pqrsService.post(`${this.API_URI}/pqrs/tipo/create/`,this.formCreate.value,this.token).subscribe(e=>(this.formCreate.reset(),this.dataFetchingService.getTipoSolicitudes().subscribe(i=>{this.tipoSolicitudes=[],this.tipoSolicitudesVerificated=[],this.tipoSolicitudes=i.data,i.data.map(s=>this.tipoSolicitudesVerificated.push(s.tipo.toLowerCase().replace(/\s+/g,"")))}),this.changeDisplayFormCreate(),this.messageService.add({severity:"success",summary:"Success",detail:"Creado correctamente"})))}catch(e){console.log("Error en consulta",e)}}handleEdit(){if(this.tipoSolicitudesVerificated.includes(this.formEdit.value.tipo.toLowerCase().replace(/\s+/g,"")))return this.messageService.add({severity:"error",summary:"Error",detail:"Este tipo de solicitud ya existe"});try{this.pqrsService.put(`${this.API_URI}/pqrs/tipo/update/${this.idEdit}/`,this.formEdit.value,this.token).subscribe(e=>(this.dataFetchingService.getTipoSolicitudes().subscribe(i=>{this.tipoSolicitudes=[],this.tipoSolicitudesVerificated=[],this.tipoSolicitudes=i.data,i.data.map(s=>this.tipoSolicitudesVerificated.push(s.tipo.toLowerCase().replace(/\s+/g,"")))}),this.formEdit.reset(),this.changeDisplayFormEdit(),this.messageService.add({severity:"success",summary:"Success",detail:"Editado correctamente"})))}catch(e){console.log("Error en consulta",e)}}deleteAll(){const e=this.itemsBulkDelete.map(s=>s.id);if(0===e.length)return this.messageService.add({severity:"error",summary:"Notififaci\xf3n",detail:"Debes seleccionar al menos un registro"});let i={ids:e};try{this.pqrsService.delete(`${this.API_URI}/pqrs/tipo/delete/`,this.token,i).subscribe(s=>(this.dataFetchingService.getTipoSolicitudes().subscribe(l=>{this.tipoSolicitudes=[],this.tipoSolicitudesVerificated=[],this.tipoSolicitudes=l.data,l.data.map(u=>this.tipoSolicitudesVerificated.push(u.tipo.toLowerCase().replace(/\s+/g,"")))}),this.itemsBulkDelete=[],this.messageService.add({severity:"success",summary:"Success",detail:"Eliminado correctamente !!!"})))}catch(s){console.log(s)}}changeDisplayFormCreate(){this.displayFormCreate=!this.displayFormCreate}changeDisplayFormEdit(e={}){this.idEdit=e.id,this.formEdit.patchValue(e),this.displayFormEdit=!this.displayFormEdit}getEventValue(e){return e.target.value}confirm(e,i){console.log("Confir called"),this.confirmationService.confirm({target:e.target,message:"\xbfSeguro que desea eliminar este tipo de solicitud?",icon:"pi pi-exclamation-triangle",accept:()=>{try{this.pqrsService.delete(`${this.API_URI}/pqrs/tipo/delete/${i}/`,this.token).subscribe(s=>(this.dataFetchingService.getTipoSolicitudes().subscribe(l=>{this.tipoSolicitudes=[],this.tipoSolicitudesVerificated=[],this.tipoSolicitudes=l.data,l.data.map(u=>this.tipoSolicitudesVerificated.push(u.tipo.toLowerCase().replace(/\s+/g,"")))}),this.messageService.add({severity:"success",summary:"Success",detail:"Eliminado correctamente !!!"})))}catch(s){console.log(s)}},reject:()=>{}})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.K),t.Y36(d.ez),t.Y36(d.YP),t.Y36(p.QS),t.Y36(O.c),t.Y36(G.z))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-gestionar"]],decls:40,vars:51,consts:[["titulo","Gestionar Tipo de Solicitudes"],["card-body","",1,"grid"],[3,"description"],[1,"col-12"],["pButton","","pRipple","","type","submit","icon","pi pi-plus","label","Crear Nuevo",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","submit","icon","pi pi-trash","label"," Eliminar seleccionados",1,"p-button-danger","mr-2",3,"click"],[1,"col-12","md:col-12","lg:col-12"],[1,"flex","flex-column","gap-2"],["dataKey","id","styleClass","p-datatable-customers","responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} elementos","responsiveLayout","scroll",3,"value","selection","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"visible","showHeader","modal","dismissableMask","visibleChange"],["titulo","Crear tipo de solicitud"],[3,"formGroup"],[1,"grid"],[1,"mb-2"],["type","text","placeholder","Escribe aqui..","formControlName","tipo","pInputText",""],[1,"col-12","md:col-12","lg:col-12","flex","justify-content-center"],["pButton","","pRipple","","type","button","label","Guardar",1,"p-button-success","m-3",3,"disabled","click"],["pButton","","pRipple","","type","button","label","Volver",1,"p-button-raised","p-button-secondary","m-3",3,"click"],["titulo","Editar tipo de solicitud"],["pButton","","pRipple","","type","button","label","Editar",1,"p-button-warning","m-3",3,"disabled","click"],[1,"table-header"],[1,"col-12","md:col-6","lg:col-6"],[1,"col-12","md:col-6","lg:col-3"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Busqueda global",3,"input"],[2,"width","3rem"],[2,"width","5rem"],["pSortableColumn","tipo"],[1,"flex","justify-content-between","align-items-center"],["field","tipo"],["type","text","field","tipo","display","menu",1,"ml-auto"],[2,"width","8rem","text-align","center"],[1,"p-selectable-row"],[3,"value"],[1,"p-column-title"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-pencil",1,"p-button-warning",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-danger",3,"click"],["colspan","8"]],template:function(e,i){1&e&&(t.TgZ(0,"app-card",0)(1,"div",1),t._UZ(2,"app-custom-info-card",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return i.changeDisplayFormCreate()}),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){return i.deleteAll()}),t.qZA()(),t.TgZ(6,"div",6)(7,"div",7)(8,"p-card")(9,"p-table",8,9),t.NdJ("selectionChange",function(l){return i.itemsBulkDelete=l}),t.YNc(11,z,8,12,"ng-template",10),t.YNc(12,L,15,0,"ng-template",11),t.YNc(13,W,14,3,"ng-template",12),t.YNc(14,X,3,0,"ng-template",13),t.qZA()()()()()(),t.TgZ(15,"p-dialog",14),t.NdJ("visibleChange",function(l){return i.displayFormCreate=l}),t.TgZ(16,"app-card-dialog",15)(17,"form",16)(18,"div",17)(19,"div",6)(20,"div",7)(21,"label",18),t._uU(22,"Nombre "),t.qZA(),t._UZ(23,"input",19),t.qZA()(),t.TgZ(24,"div",20)(25,"button",21),t.NdJ("click",function(){return i.onSubmit()}),t.qZA(),t.TgZ(26,"button",22),t.NdJ("click",function(){return i.changeDisplayFormCreate()}),t.qZA()()()()()(),t.TgZ(27,"p-dialog",14),t.NdJ("visibleChange",function(l){return i.displayFormEdit=l}),t.TgZ(28,"app-card-dialog",23)(29,"form",16)(30,"div",17)(31,"div",6)(32,"div",7)(33,"label",18),t._uU(34,"Nombre "),t.qZA(),t._UZ(35,"input",19),t.qZA()(),t.TgZ(36,"div",20)(37,"button",24),t.NdJ("click",function(){return i.handleEdit()}),t.qZA(),t.TgZ(38,"button",22),t.NdJ("click",function(){return i.changeDisplayFormEdit()}),t.qZA()()()()()(),t._UZ(39,"p-toast")),2&e&&(t.xp6(2),t.Q6J("description",i.inforCardDescription),t.xp6(7),t.Q6J("value",i.tipoSolicitudes)("selection",i.itemsBulkDelete)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(39,tt))("loading",i.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(40,et)),t.xp6(6),t.Akn(t.VKq(41,T,i.width)),t.Q6J("visible",i.displayFormCreate)("showHeader",!1)("modal",!0)("dismissableMask",!0),t.xp6(2),t.Q6J("formGroup",i.formCreate),t.xp6(4),t.Akn(t.DdM(43,E)),t.xp6(4),t.Akn(t.DdM(44,C)),t.Q6J("disabled",!i.formCreate.valid),t.xp6(1),t.Akn(t.DdM(45,C)),t.xp6(1),t.Akn(t.VKq(46,T,i.width)),t.Q6J("visible",i.displayFormEdit)("showHeader",!1)("modal",!0)("dismissableMask",!0),t.xp6(2),t.Q6J("formGroup",i.formEdit),t.xp6(4),t.Akn(t.DdM(48,E)),t.xp6(4),t.Akn(t.DdM(49,C)),t.Q6J("disabled",!i.formEdit.valid),t.xp6(1),t.Akn(t.DdM(50,C)))},dependencies:[p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,_.o,o.Hq,f.FN,d.jx,h.iA,h.lQ,h.fz,h.UA,h.Mo,h.xl,S.V,A.P,I.Z,V.A,Y.i,j.t],styles:["[_nghost-%COMP%]     .p-datatable-header{background-color:#f16357;border:1px solid #f16357}"]}),r})()}];let rt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[c.Bz.forChild(it),c.Bz]}),r})();var ot=a(2210),st=a(4466);let nt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[v.ez,rt,p.u5,p.UX,_.j,o.hJ,f.EV,h.U$,S.S,ot.kW,A.n,I.d,st.m]}),r})()}}]);
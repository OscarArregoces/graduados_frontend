"use strict";(self.webpackChunkAppTuristica=self.webpackChunkAppTuristica||[]).push([[445],{445:(ie,d,a)=>{a.r(d),a.d(d,{MisEncuestasModule:()=>ne});var c=a(6895),u=a(2496),C=a(2340),e=a(8274),M=a(517),_=a(433),T=a(805),Z=a(8794),l=a(1740),g=a(5593),v=a(2453),m=a(3054),x=a(613),h=a(1989),A=a(9219);function w(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"p-radioButton",15),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw(3).index,p=e.oxw(2);return e.KtG(p.respuestas[o].respuesta=s)}),e.qZA(),e.TgZ(2,"label",16),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw(3),s=i.index,o=i.$implicit,p=e.oxw(2);e.xp6(1),e.s9C("value",t.id),e.Q6J("ngModel",p.respuestas[s].respuesta)("name",o.pregunta_nombre),e.xp6(2),e.hij("",t.respuesta," ")}}function N(n,r){if(1&n&&(e.TgZ(0,"div",11)(1,"div",12)(2,"h3"),e._uU(3),e.qZA()(),e.YNc(4,w,4,4,"div",13),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.pregunta_nombre),e.xp6(1),e.Q6J("ngForOf",t.answer_set)}}const f=function(){return{width:"98%"}};function O(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"h3"),e._uU(3),e.qZA()(),e.TgZ(4,"input",17),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw(2).index,p=e.oxw(2);return e.KtG(p.respuestas[o].respuesta=s)}),e.qZA()()}if(2&n){const t=e.oxw(2),i=t.$implicit,s=t.index,o=e.oxw(2);e.xp6(3),e.Oqu(i.pregunta_nombre),e.xp6(1),e.Akn(e.DdM(5,f)),e.Q6J("ngModel",o.respuestas[s].respuesta)("name",i.pregunta_nombre)}}function J(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"h3"),e._uU(3),e.qZA()(),e.TgZ(4,"textarea",18),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw(2).index,p=e.oxw(2);return e.KtG(p.respuestas[o].respuesta=s)}),e.qZA()()}if(2&n){const t=e.oxw(2),i=t.$implicit,s=t.index,o=e.oxw(2);e.xp6(3),e.Oqu(i.pregunta_nombre),e.xp6(1),e.Q6J("ngModel",o.respuestas[s].respuesta)("name",i.pregunta_nombre)}}function L(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"p-checkbox",15),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw(3).index,p=e.oxw(2);return e.KtG(p.respuestas[o].respuesta=s)}),e.qZA(),e.TgZ(2,"label",16),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw(3),s=i.index,o=i.$implicit,p=e.oxw(2);e.xp6(1),e.Q6J("value",t.id)("ngModel",p.respuestas[s].respuesta)("name",o.pregunta_nombre),e.xp6(2),e.hij("",t.respuesta," ")}}function E(n,r){if(1&n&&(e.TgZ(0,"div",11)(1,"div",12)(2,"h3"),e._uU(3),e.qZA()(),e.YNc(4,L,4,4,"div",13),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.pregunta_nombre),e.xp6(1),e.Q6J("ngForOf",t.answer_set)}}function I(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",9),e.YNc(2,N,5,2,"div",10),e.YNc(3,O,5,6,"div",10),e.YNc(4,J,5,3,"div",10),e.YNc(5,E,5,2,"div",10),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngSwitch",t.tipo_pregunta),e.xp6(1),e.Q6J("ngSwitchCase","unica respuesta"),e.xp6(1),e.Q6J("ngSwitchCase","respuesta corta"),e.xp6(1),e.Q6J("ngSwitchCase","respuesta larga"),e.xp6(1),e.Q6J("ngSwitchCase","multiple respuesta")}}function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"p-radioButton",15),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw(4).index,p=e.oxw(2);return e.KtG(p.respuestas[o].respuesta=s)}),e.qZA(),e.TgZ(2,"label",16),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw(4),s=i.index,o=i.$implicit,p=e.oxw(2);e.xp6(1),e.s9C("value",t.id),e.Q6J("ngModel",p.respuestas[s].respuesta)("name",o.pregunta_nombre),e.xp6(2),e.hij("",t.respuesta," ")}}function S(n,r){if(1&n&&(e.TgZ(0,"div",11)(1,"div",12)(2,"h3"),e._uU(3),e.qZA()(),e.YNc(4,F,4,4,"div",13),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.Oqu(t.pregunta_nombre),e.xp6(1),e.Q6J("ngForOf",t.answer_set)}}function b(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"h3"),e._uU(3),e.qZA()(),e.TgZ(4,"input",17),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw(3).index,p=e.oxw(2);return e.KtG(p.respuestas[o].respuesta=s)}),e.qZA()()}if(2&n){const t=e.oxw(3),i=t.$implicit,s=t.index,o=e.oxw(2);e.xp6(3),e.Oqu(i.pregunta_nombre),e.xp6(1),e.Akn(e.DdM(5,f)),e.Q6J("ngModel",o.respuestas[s].respuesta)("name",i.pregunta_nombre)}}function Q(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"h3"),e._uU(3),e.qZA()(),e.TgZ(4,"textarea",18),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw(3).index,p=e.oxw(2);return e.KtG(p.respuestas[o].respuesta=s)}),e.qZA()()}if(2&n){const t=e.oxw(3),i=t.$implicit,s=t.index,o=e.oxw(2);e.xp6(3),e.Oqu(i.pregunta_nombre),e.xp6(1),e.Q6J("ngModel",o.respuestas[s].respuesta)("name",i.pregunta_nombre)}}function Y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"p-checkbox",15),e.NdJ("ngModelChange",function(s){e.CHM(t);const o=e.oxw(4).index,p=e.oxw(2);return e.KtG(p.respuestas[o].respuesta=s)}),e.qZA(),e.TgZ(2,"label",16),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw(4),s=i.index,o=i.$implicit,p=e.oxw(2);e.xp6(1),e.Q6J("value",t.id)("ngModel",p.respuestas[s].respuesta)("name",o.pregunta_nombre),e.xp6(2),e.hij("",t.respuesta," ")}}function y(n,r){if(1&n&&(e.TgZ(0,"div",11)(1,"div",12)(2,"h3"),e._uU(3),e.qZA()(),e.YNc(4,Y,4,4,"div",13),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.Oqu(t.pregunta_nombre),e.xp6(1),e.Q6J("ngForOf",t.answer_set)}}function $(n,r){if(1&n&&(e.TgZ(0,"div",7)(1,"div",9),e.YNc(2,S,5,2,"div",10),e.YNc(3,b,5,6,"div",10),e.YNc(4,Q,5,3,"div",10),e.YNc(5,y,5,2,"div",10),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngSwitch",t.tipo_pregunta),e.xp6(1),e.Q6J("ngSwitchCase","unica respuesta"),e.xp6(1),e.Q6J("ngSwitchCase","respuesta corta"),e.xp6(1),e.Q6J("ngSwitchCase","respuesta larga"),e.xp6(1),e.Q6J("ngSwitchCase","multiple respuesta")}}function U(n,r){if(1&n&&e.YNc(0,$,6,5,"div",19),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngIf",i.dependeRespuestaValida(t))}}function q(n,r){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,I,6,5,"div",8),e.YNc(2,U,1,1,"ng-template",null,2,e.W1O),e.qZA()),2&n){const t=r.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null===t.depende_respuesta)("ngIfElse",i)}}function P(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"form"),e.YNc(2,q,4,2,"div",4),e.TgZ(3,"div",5)(4,"button",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.preguntas)}}function R(n,r){1&n&&(e.TgZ(0,"p",20),e._uU(1,"No hay preguntas para ti"),e.qZA())}const B=[{path:"llenar-encuestas",component:(()=>{class n{constructor(t,i,s,o){this.encuestasService=t,this.fb=i,this.messageService=s,this.dataFetchingService=o,this.API_URI=C.N.API_URI,this.preguntas=[],this.respuestas=[],this.tipo_pregunta=["unica respuesta","multiple respuesta","respuesta corta","respuesta larga"],this.currentStep=0,this.steps=[{id:0,label:"COMPONENTE FORMACI\xd3N PROFESIONAL Y ACADEMICA"},{id:1,label:"COMPONENTE CONTEXTO INDIVIDUAL Y FAMILIAR"},{id:2,label:"COMPONENTE SITUACION LABORAL Y/O EMPRENDIMIENTO"}],this.form=this.fb.group({})}ngOnInit(){this.token=localStorage.getItem("token"),this.dataFetchingService.getPreguntas().subscribe(t=>{this.preguntas=t.data,this.organizarRespuestas()})}organizarRespuestas(){this.preguntas.forEach(t=>{t.tipo_pregunta==this.tipo_pregunta[0]&&this.respuestas.push({pregunta:t.id,type:this.tipo_pregunta[0],respuesta:null}),t.tipo_pregunta==this.tipo_pregunta[1]&&this.respuestas.push({pregunta:t.id,type:this.tipo_pregunta[1],respuesta:[]}),t.tipo_pregunta==this.tipo_pregunta[2]&&this.respuestas.push({pregunta:t.id,type:this.tipo_pregunta[2],respuesta:null}),t.tipo_pregunta==this.tipo_pregunta[3]&&this.respuestas.push({pregunta:t.id,type:this.tipo_pregunta[3],respuesta:null})})}addMultiple(t,i){this.respuestas[t].respuesta.includes(i)&&(this.respuestas[t].respuesta=this.respuestas[t].respuesta.filter(s=>s!=i)),this.respuestas[t].respuesta.push(i)}dependeRespuestaValida(t){if(t.depende_respuesta&&t.depende_respuesta.id){const i=this.respuestas.find(s=>s.pregunta===t.depende_respuesta.pregunta.id);return!(!i||null===i.respuesta)&&Number(i.respuesta)===t.depende_respuesta.id}return!1}volver(){this.currentStep--}siguiente(){this.currentStep++}onSubmit(){this.respuestas.forEach(t=>{t.type===this.tipo_pregunta[0]&&(t.respuesta=null===t.respuesta?null:Number(t.respuesta))});try{this.encuestasService.post(`${this.API_URI}/poll/questions/responses/`,{respuestas:this.respuestas},this.token).subscribe(t=>{console.log(t),this.messageService.add({severity:"success",summary:"Success",detail:"Guardado correctamente"})})}catch(t){console.log("Error en consulta",t)}console.log(this.respuestas)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M.e),e.Y36(_.QS),e.Y36(T.ez),e.Y36(Z.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-llenar"]],decls:5,vars:2,consts:[["titulo","Mis encuestas"],["card-body","",4,"ngIf","ngIfElse"],["elseBlock",""],["card-body",""],["class","my-3",4,"ngFor","ngForOf"],[1,"flex","justify-content-center"],["pButton","","pRipple","","label","Enviar respuestas","icon","pi pi-send",1,"p-button-success",3,"click"],[1,"my-3"],[4,"ngIf","ngIfElse"],[3,"ngSwitch"],["class","content-question",4,"ngSwitchCase"],[1,"content-question"],[1,"content-title"],["class","content-answer",4,"ngFor","ngForOf"],[1,"content-answer"],[3,"value","ngModel","name","ngModelChange"],[1,"mx-1"],["type","text","pInputText","","placeholder","Respuesta",3,"ngModel","name","ngModelChange"],["rows","5","cols","30","pInputTextarea","","placeholder","Respuesta",3,"ngModel","name","ngModelChange"],["class","my-3",4,"ngIf"],[1,"text-center"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-card",0),e.YNc(1,P,5,1,"div",1),e.qZA(),e.YNc(2,R,2,0,"ng-template",null,2,e.W1O),e._UZ(4,"p-toast")),2&t){const s=e.MAs(3);e.xp6(1),e.Q6J("ngIf",i.preguntas.length)("ngIfElse",s)}},dependencies:[c.sg,c.O5,c.RF,c.n9,_._Y,_.Fj,_.JJ,_.JL,_.On,_.F,l.o,g.Hq,v.FN,m.g,x.EU,h.XZ,A.A],styles:[".content-question[_ngcontent-%COMP%]{border:1px solid rgb(160,160,160);border-radius:5px}.content-title[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:flex-start;background-color:#dcdcdc;margin-bottom:10px;border-radius:5px 5px 0 0}.content-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 5px;font-size:15px;font-weight:600}.content-answer[_ngcontent-%COMP%], .content-question[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .content-question[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:5px}"]}),n})()}];let H=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(B),u.Bz]}),n})();var j=a(4466),G=a(8396),K=a(1493),z=a(2210),D=a(369),X=a(585),V=a(5047),W=a(1118),k=a(4247),ee=a(5722),te=a(1236);let ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,H,_.u5,_.UX,l.j,g.hJ,v.EV,G.U$,K.S,z.kW,D.n,m.A,X._8,V.L$,W.XH,k.d,ee.q4,x.cc,h.nD,te.q,j.m]}),n})()}}]);
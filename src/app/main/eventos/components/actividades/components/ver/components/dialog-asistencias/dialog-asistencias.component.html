<p-dialog header="Asistencias Actividad" [(visible)]="display"
    [style]="{'width': width,'text-aling': 'center', 'min-height':'80vh','background-color':'#f4f4f4'}"
    [showHeader]="true" [modal]="true" [dismissableMask]="false" [maximizable]="true" (onHide)="closeDisplay.emit()">

    <div class="grid border-1 border-gray-100">
        <div class="col-12 mb-2">
            <div class="text-center" style="background-color:#cfcfcf;">
                <span class="customTitle">Población Beneficiada</span>
            </div>
            <div *ngIf="asistenciaDetalle && asistenciaDetalle?.conteo?.length">
                <p-table [value]="asistenciaDetalle.conteo" responsiveLayout="scroll">
                    <ng-template pTemplate="header">
                        <tr>
                            <th class="customLabel" style="width: 40px;">Indice</th>
                            <th class="customLabel">Tipo</th>
                            <th class="customLabel">Cantidad</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-asistencia let-rowIndex="rowIndex">
                        <tr>
                            <td class="customText">{{rowIndex + 1 }}</td>
                            <td class="customText">{{asistencia.name}}</td>
                            <td class="customText">{{asistencia.cantidad}}</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
        <div class="col-12 mb-2" *ngIf="asistenciaDetalle && asistenciaDetalle?.asistencia?.length">
            <div class="text-center" style="background-color:#cfcfcf;">
                <span class="customTitle">Asistencias Uniguajira</span>
            </div>
            <div>
                <p-table [value]="asistenciaDetalle.asistencia" responsiveLayout="scroll">
                    <ng-template pTemplate="header">
                        <tr>
                            <th class="customLabel" style="width: 40px;">Indice</th>
                            <th class="customLabel">Nombre</th>
                            <th class="customLabel">Correo</th>
                            <th class="customLabel">Vinculación</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-persona let-rowIndex="rowIndex">
                        <tr>
                            <td class="customText">{{rowIndex + 1 }}</td>
                            <td class="customText">{{persona.fullname}}</td>
                            <td class="customText">{{persona.email ? persona.email : "NP"}}</td>
                            <td class="customText">
                                {{
                                persona.graduado === true ? "Graduado" :
                                persona.funcionario === true ? "Administrativo" : "NP"
                                }}
                            </td>

                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
        <div class="col-12 mb-2" *ngIf="asistenciaDetalle && asistenciaDetalle?.asistencia_externos?.length">
            <div class="text-center" style="background-color:#cfcfcf;">
                <span class="customTitle">Asistencias Externos</span>
            </div>
            <div *ngIf="asistenciaDetalle && asistenciaDetalle?.asistencia_externos?.length">
                <p-table [value]="asistenciaDetalle.asistencia_externos" responsiveLayout="scroll">
                    <ng-template pTemplate="header">
                        <tr>
                            <th class="customLabel" style="width: 40px;">Indice</th>
                            <th class="customLabel">Nombre</th>
                            <th class="customLabel">Correo</th>
                            <th class="customLabel">Vinculación</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-persona let-rowIndex="rowIndex">
                        <tr>
                            <td class="customText">{{rowIndex + 1 }}</td>
                            <td class="customText">{{persona.fullname}}</td>
                            <td class="customText">{{persona.email}}</td>
                            <td class="customText">{{persona.vinculacion}}</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
        <div class="col-12 flex justify-content-center align-items-center gap-3">
            <button pButton pRipple type="button" label="Volver" class="p-button-outlined p-button-danger"
                (click)="closeDisplay.emit()"></button>
        </div>
    </div>
</p-dialog>